(function(e){function t(t){for(var a,o,r=t[0],d=t[1],l=t[2],u=0,h=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&h.push(s[o][0]),s[o]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);c&&c(t);while(h.length)h.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],a=!0,r=1;r<i.length;r++){var d=i[r];0!==s[d]&&(a=!1)}a&&(n.splice(t--,1),e=o(o.s=i[0]))}return e}var a={},s={app:0},n=[];function o(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=a,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(i,a,function(t){return e[t]}.bind(null,a));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],d=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var c=d;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"010e0":function(e,t,i){"use strict";var a=i("0e4c"),s=i.n(a);s.a},"0186":function(e,t,i){"use strict";var a=i("e3e5"),s=i.n(a);s.a},"05a5":function(e,t,i){e.exports=i.p+"assets/img/5.32e655d8.svg"},"0b6d":function(e,t,i){e.exports=i.p+"assets/img/iDi_logo_extended_black_green.3f211612.svg"},"0dca":function(e,t,i){},"0e4c":function(e,t,i){},"0edc":function(e,t,i){},"1ef2":function(e,t,i){"use strict";var a=i("e721"),s=i.n(a);s.a},2435:function(e,t,i){"use strict";var a=i("b33a"),s=i.n(a);s.a},"291d":function(e,t,i){},2978:function(e,t,i){},"2c30":function(e,t,i){"use strict";var a=i("f6b7"),s=i.n(a);s.a},"2cbe":function(e,t,i){"use strict";var a=i("a6de"),s=i.n(a);s.a},3623:function(e,t,i){},"37e0":function(e,t,i){},"389c":function(e,t,i){"use strict";var a=i("f44f"),s=i.n(a);s.a},"3d7a":function(e,t,i){"use strict";var a=i("7ec7"),s=i.n(a);s.a},4013:function(e,t,i){"use strict";var a=i("484ff"),s=i.n(a);s.a},4161:function(e,t,i){e.exports=i.p+"assets/img/7.a609e694.svg"},"43f0":function(e,t,i){"use strict";(function(e){i("99af"),i("4160"),i("c975"),i("a15b"),i("d81d"),i("fb6a"),i("c19f"),i("ace4"),i("b0c0"),i("d3b7"),i("ac1f"),i("25f0"),i("3ca3"),i("1276"),i("cfc3"),i("4a9b"),i("8b09"),i("5cc6"),i("84c3"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7"),i("159b"),i("ddb0"),i("2b3d");var a=i("53ca");function s(e){if(!e)throw"MediaStream is mandatory.";var t;this.start=function(i){var a;"undefined"!==typeof MediaRecorder?a=y:(h||u||c)&&(-1!==this.mimeType.indexOf("video")?a=k:-1!==this.mimeType.indexOf("audio")&&(a=w)),"image/gif"===this.mimeType&&(a=x),"audio/wav"!==this.mimeType&&"audio/pcm"!==this.mimeType||(a=w),this.recorderType&&(a=this.recorderType),t=new a(e),t.blobs=[];var s=this;t.ondataavailable=function(e){t.blobs.push(e),s.ondataavailable(e)},t.onstop=this.onstop,t.onStartedDrawingNonBlankFrames=this.onStartedDrawingNonBlankFrames,t=m(t,this),t.start(i)},this.onStartedDrawingNonBlankFrames=function(){},this.clearOldRecordedFrames=function(){t&&t.clearOldRecordedFrames()},this.stop=function(){t&&t.stop()},this.ondataavailable=function(e){this.disableLogs},this.onstop=function(e){console.warn("stopped..",e)},this.save=function(e,i){if(e)p(e,i);else{if(!t)return;ConcatenateBlobs(t.blobs,t.blobs[0].type,(function(e){p(e)}))}},this.pause=function(){t&&(t.pause(),this.disableLogs)},this.resume=function(){t&&(t.resume(),this.disableLogs)},this.recorderType=null,this.mimeType="video/webm",this.disableLogs=!1}function n(e,t){e=e||[],e instanceof v&&(e=[e]);var i,a,n=this;function r(){var t=[];return e.forEach((function(e){e.getVideoTracks().forEach((function(e){t.push(e)}))})),t}t=t||{mimeType:"video/webm",video:{width:360,height:240}},t.frameInterval||(t.frameInterval=10),t.video||(t.video={}),t.video.width||(t.video.width=360),t.video.height||(t.video.height=240),this.start=function(d){for(var l in i=new o(e),r().length&&(i.frameInterval=t.frameInterval||10,i.width=t.video.width||360,i.height=t.video.height||240,i.startDrawingFrames()),"function"===typeof n.previewStream&&n.previewStream(i.getMixedStream()),a=new s(i.getMixedStream()),n)"function"!==typeof n[l]&&(a[l]=n[l]);a.ondataavailable=function(e){n.ondataavailable(e)},a.onstop=n.onstop,a.start(d)},this.stop=function(e){a&&a.stop((function(t){e(t)}))},this.pause=function(){a&&a.pause()},this.resume=function(){a&&a.resume()},this.clearRecordedData=function(){a&&(a.clearRecordedData(),a=null),i&&(i.releaseStreams(),i=null)},this.addStreams=this.addStream=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),e.concat(t),a&&i&&i.appendStreams(t)},this.resetVideoStreams=function(e){i&&(!e||e instanceof Array||(e=[e]),i.resetVideoStreams(e))},this.ondataavailable=function(e){n.disableLogs},this.onstop=function(){},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}function o(e){var t=[],i=!1,a=document.createElement("canvas"),s=a.getContext("2d");a.style="opacity:0;position:absolute;z-index:-1;top: -100000000;left:-1000000000; margin-top:-1000000000;margin-left:-1000000000;",(document.body||document.documentElement).appendChild(a),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var n=this,o=window.AudioContext;"undefined"===typeof o&&("undefined"!==typeof webkitAudioContext&&(o=webkitAudioContext),"undefined"!==typeof mozAudioContext&&(o=mozAudioContext));var r=window.URL;"undefined"===typeof r&&"undefined"!==typeof webkitURL&&(r=webkitURL),"undefined"!==typeof navigator&&"undefined"===typeof navigator.getUserMedia&&("undefined"!==typeof navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),"undefined"!==typeof navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var d=window.MediaStream;"undefined"===typeof d&&"undefined"!==typeof webkitMediaStream&&(d=webkitMediaStream),"undefined"!==typeof d&&("getVideoTracks"in d.prototype||(d.prototype.getVideoTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks.forEach((function(t){-1!==t.kind.toString().indexOf("video")&&e.push(t)})),e},d.prototype.getAudioTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks.forEach((function(t){-1!==t.kind.toString().indexOf("audio")&&e.push(t)})),e}),"undefined"===typeof d.prototype.stop&&(d.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))}));var l={};function c(){if(!i){var e=t.length,s=!1,o=[];t.forEach((function(e){e.stream||(e.stream={}),e.stream.fullcanvas?s=e:o.push(e)})),s?(a.width=s.stream.width,a.height=s.stream.height):o.length?(a.width=e>1?2*o[0].width:o[0].width,a.height=e>2?2*o[0].height:o[0].height):(a.width=n.width||360,a.height=n.height||240),s&&s instanceof HTMLVideoElement&&u(s),o.forEach((function(e,t){u(e,t)})),setTimeout(c,n.frameInterval)}}function u(e,t){if(!i){var a=0,n=0,o=e.width,r=e.height;1===t&&(a=e.width),2===t&&(n=e.height),3===t&&(a=e.width,n=e.height),"undefined"!==typeof e.stream.left&&(a=e.stream.left),"undefined"!==typeof e.stream.top&&(n=e.stream.top),"undefined"!==typeof e.stream.width&&(o=e.stream.width),"undefined"!==typeof e.stream.height&&(r=e.stream.height),s.drawImage(e,a,n,o,r),"function"===typeof e.stream.onRender&&e.stream.onRender(s,a,n,o,r,t)}}function h(){i=!1;var t=v(),a=m();return a&&a.getAudioTracks().forEach((function(e){t.addTrack(e)})),e.forEach((function(e){e.fullcanvas&&!0})),t}function v(){var e;f(),"captureStream"in a?e=a.captureStream():"mozCaptureStream"in a?e=a.mozCaptureStream():n.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var t=new d;return e.getVideoTracks().forEach((function(e){t.addTrack(e)})),a.stream=t,t}function m(){l.AudioContextConstructor||(l.AudioContextConstructor=new l.AudioContext),n.audioContext=l.AudioContextConstructor,n.audioSources=[],!0===n.useGainNode&&(n.gainNode=n.audioContext.createGain(),n.gainNode.connect(n.audioContext.destination),n.gainNode.gain.value=0);var t=0;if(e.forEach((function(e){if(e.getAudioTracks().length){t++;var i=n.audioContext.createMediaStreamSource(e);!0===n.useGainNode&&i.connect(n.gainNode),n.audioSources.push(i)}})),t)return n.audioDestination=n.audioContext.createMediaStreamDestination(),n.audioSources.forEach((function(e){e.connect(n.audioDestination)})),n.audioDestination.stream}function p(e){var t=document.createElement("video");return"srcObject"in t?t.srcObject=e:t.src=r.createObjectURL(e),t.muted=!0,t.volume=0,t.width=e.width||n.width||360,t.height=e.height||n.height||240,t.play(),t}function f(i){t=[],i=i||e,i.forEach((function(e){if(e.getVideoTracks().length){var i=p(e);i.stream=e,t.push(i)}}))}"undefined"!==typeof o?l.AudioContext=o:"undefined"!==typeof webkitAudioContext&&(l.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){c()},this.appendStreams=function(i){if(!i)throw"First parameter is required.";i instanceof Array||(i=[i]),e.concat(i),i.forEach((function(e){if(e.getVideoTracks().length){var i=p(e);i.stream=e,t.push(i)}if(e.getAudioTracks().length&&n.audioContext){var a=n.audioContext.createMediaStreamSource(e);a.connect(n.audioDestination),n.audioSources.push(a)}}))},this.releaseStreams=function(){t=[],i=!0,n.gainNode&&(n.gainNode.disconnect(),n.gainNode=null),n.audioSources.length&&(n.audioSources.forEach((function(e){e.disconnect()})),n.audioSources=[]),n.audioDestination&&(n.audioDestination.disconnect(),n.audioDestination=null),n.audioContext=null,s.clearRect(0,0,a.width,a.height),a.stream&&(a.stream.stop(),a.stream=null)},this.resetVideoStreams=function(e){!e||e instanceof Array||(e=[e]),f(e)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=h}"undefined"!==typeof s&&(s.MultiStreamRecorder=n);var r="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(t){"undefined"===typeof window&&("undefined"===typeof window&&"undefined"!==typeof e&&(e.navigator={userAgent:r,getUserMedia:function(){}},t.window=e),"undefined"===typeof document&&(t.document={},document.createElement=document.captureStream=document.mozCaptureStream=function(){return{}}),"undefined"===typeof location&&(t.location={protocol:"file:",href:"",hash:""}),"undefined"===typeof screen&&(t.screen={width:0,height:0}))})("undefined"!==typeof e?e:window);var d=window.AudioContext;"undefined"===typeof d&&("undefined"!==typeof webkitAudioContext&&(d=webkitAudioContext),"undefined"!==typeof mozAudioContext&&(d=mozAudioContext)),"undefined"===typeof window&&(window={});d=window.AudioContext;"undefined"===typeof d&&("undefined"!==typeof webkitAudioContext&&(d=webkitAudioContext),"undefined"!==typeof mozAudioContext&&(d=mozAudioContext));var l=window.URL;"undefined"===typeof l&&"undefined"!==typeof webkitURL&&(l=webkitURL),"undefined"!==typeof navigator?("undefined"!==typeof navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),"undefined"!==typeof navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia)):navigator={getUserMedia:function(){},userAgent:r};var c=-1!==navigator.userAgent.indexOf("Edge")&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),u=!1;"undefined"!==typeof opera&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("OPR/")&&(u=!0);var h=!c&&!c&&!!navigator.webkitGetUserMedia,v=window.MediaStream;function m(e,t){for(var i in t)"function"!==typeof t[i]&&(e[i]=t[i]);return e}function p(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(r){}var i=(e.type||"video/webm").split("/")[1];if(t&&-1!==t.indexOf(".")){var a=t.split(".");t=a[0],i=a[1]}var s=(t||Math.round(9999999999*Math.random())+888888888)+"."+i;if("undefined"!==typeof navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,s);if("undefined"!==typeof navigator.msSaveBlob)return navigator.msSaveBlob(e,s);var n=document.createElement("a");n.href=l.createObjectURL(e),n.target="_blank",n.download=s,navigator.mozGetUserMedia&&(n.onclick=function(){(document.body||document.documentElement).removeChild(n)},(document.body||document.documentElement).appendChild(n));var o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});n.dispatchEvent(o),navigator.mozGetUserMedia||l.revokeObjectURL(n.href)}function f(e){var t=1e3,i=["Bytes","KB","MB","GB","TB"];if(0===e)return"0 Bytes";var a=parseInt(Math.floor(Math.log(e)/Math.log(t)),10);return(e/Math.pow(t,a)).toPrecision(3)+" "+i[a]}"undefined"===typeof v&&"undefined"!==typeof webkitMediaStream&&(v=webkitMediaStream),"undefined"!==typeof v&&("getVideoTracks"in v.prototype||(v.prototype.getVideoTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks.forEach((function(t){-1!==t.kind.toString().indexOf("video")&&e.push(t)})),e},v.prototype.getAudioTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks.forEach((function(t){-1!==t.kind.toString().indexOf("audio")&&e.push(t)})),e}),"stop"in v.prototype||(v.prototype.stop=function(){this.getAudioTracks().forEach((function(e){e.stop&&e.stop()})),this.getVideoTracks().forEach((function(e){e.stop&&e.stop()}))})),"undefined"!==typeof location&&0===location.href.indexOf("file:")&&console.error("Please load this HTML file on HTTP or HTTPS.");var g={AudioContext:d};function b(){var e=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,t=!!window.chrome&&!e,i="undefined"!==typeof window.InstallTrigger;if(i)return!0;if(!t)return!1;navigator.appVersion;var a,s,n=navigator.userAgent,o=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10);return t&&(a=n.indexOf("Chrome"),o=n.substring(a+7)),-1!==(s=o.indexOf(";"))&&(o=o.substring(0,s)),-1!==(s=o.indexOf(" "))&&(o=o.substring(0,s)),r=parseInt(""+o,10),isNaN(r)&&(o=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10)),r>=49}function y(e){var t,i=this;function a(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}this.start=function(a,s){var n;(this.timeSlice=a||5e3,i.mimeType||(i.mimeType="video/webm"),-1!==i.mimeType.indexOf("audio"))&&(e.getVideoTracks().length&&e.getAudioTracks().length&&(navigator.mozGetUserMedia?(n=new v,n.addTrack(e.getAudioTracks()[0])):n=new v(e.getAudioTracks()),e=n));-1!==i.mimeType.indexOf("audio")&&(i.mimeType=h?"audio/webm":"audio/ogg"),i.dontFireOnDataAvailableEvent=!1;var o={mimeType:i.mimeType};i.disableLogs,t&&(t=null),h&&!b()&&(o="video/vp8");try{t=new MediaRecorder(e,o)}catch(d){t=new MediaRecorder(e)}"canRecordMimeType"in t&&!1===t.canRecordMimeType(i.mimeType)&&(i.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",i.mimeType)),!0===i.ignoreMutedMedia&&(t.ignoreMutedMedia=!0);var r=!1;t.ondataavailable=function(e){if(e.data&&e.data.size&&!(e.data.size<26800)&&!r){r=!0;var s=i.getNativeBlob?e.data:new Blob([e.data],{type:i.mimeType||"video/webm"});i.ondataavailable(s),t&&"recording"===t.state&&t.stop(),t=null,i.dontFireOnDataAvailableEvent||i.start(a,"__disableLogs")}},t.onerror=function(e){i.disableLogs||("InvalidState"===e.name?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed."):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute."):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute."):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute."):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e)),t&&"inactive"!==t.state&&"stopped"!==t.state&&t.stop()};try{t.start(36e5)}catch(d){t=null}setTimeout((function(){t&&"recording"===t.state&&t.requestData()}),a)},this.stop=function(e){t&&"recording"===t.state&&(t.requestData(),setTimeout((function(){i.dontFireOnDataAvailableEvent=!0,t&&"recording"===t.state&&t.stop(),t=null,i.onstop()}),2e3))},this.pause=function(){t&&("recording"===t.state&&t.pause(),this.dontFireOnDataAvailableEvent=!0)},this.ondataavailable=function(e){},this.resume=function(){if(this.dontFireOnDataAvailableEvent){this.dontFireOnDataAvailableEvent=!1;var e=i.disableLogs;return i.disableLogs=!0,this.start(this.timeslice||5e3),void(i.disableLogs=e)}t&&"paused"===t.state&&t.resume()},this.clearRecordedData=function(){t&&(this.pause(),this.dontFireOnDataAvailableEvent=!0,this.stop())},this.onstop=function(){},function e(){t&&(!1!==a()?setTimeout(e,1e3):i.stop())}()}function w(e){var t,i;this.start=function(a){a=a||1e3,t=new _(e,this),t.record(),i=setInterval((function(){t.requestData()}),a)},this.stop=function(){t&&(t.stop(),clearTimeout(i),this.onstop())},this.pause=function(){t&&t.pause()},this.resume=function(){t&&t.resume()},this.ondataavailable=function(){},this.onstop=function(){}}function _(e,t){var i=44100;g.AudioContextConstructor||(g.AudioContextConstructor=new g.AudioContext),i=g.AudioContextConstructor.sampleRate;var a,s=[],n=[],o=!1,r=0,d=t.sampleRate||i,l=t.mimeType||"audio/wav",c=l.indexOf("audio/pcm")>-1,u=t.audioChannels||2;function h(e,t){for(var i=e.length+t.length,a=new Float32Array(i),s=0,n=0;n<i;)a[n++]=e[s],a[n++]=t[s],s++;return a}function v(e,t){for(var i=new Float32Array(t),a=0,s=e.length,n=0;n<s;n++){var o=e[n];i.set(o,a),a+=o.length}return i}function m(e,t,i){for(var a=i.length,s=0;s<a;s++)e.setUint8(t+s,i.charCodeAt(s))}function p(e){var t=e.length,i=new Int16Array(t);while(t--)i[t]=65535*e[t];return i.buffer}this.record=function(){o=!0,s.length=n.length=0,r=0},this.requestData=function(){if(!S)if(0!==r){k=!0;var e=s.slice(0),i=n.slice(0),a=r;s.length=n.length=[],r=0,k=!1;var o=v(e,a),l=o;if(2===u){var g=v(i,a);l=h(o,g)}if(c){var b=new Blob([p(l)],{type:"audio/pcm"});return console.debug("audio recorded blob size:",f(b.size)),void t.ondataavailable(b)}var y=new ArrayBuffer(44+2*l.length),w=new DataView(y);m(w,0,"RIFF"),w.setUint32(4,44+2*l.length-8,!0),m(w,8,"WAVE"),m(w,12,"fmt "),w.setUint32(16,16,!0),w.setUint16(20,1,!0),w.setUint16(22,u,!0),w.setUint32(24,d,!0),w.setUint32(28,d*u*2,!0),w.setUint16(32,2*u,!0),w.setUint16(34,16,!0),m(w,36,"data"),w.setUint32(40,2*l.length,!0);for(var _=l.length,x=44,C=1,F=0;F<_;F++)w.setInt16(x,l[F]*(32767*C),!0),x+=2;b=new Blob([w],{type:"audio/wav"});console.debug("audio recorded blob size:",f(b.size)),t.ondataavailable(b)}else k=!1},this.stop=function(){o=!1,this.requestData(),w.disconnect(),this.onstop()};var b=g.AudioContextConstructor;g.VolumeGainNode=b.createGain();var y=g.VolumeGainNode;g.AudioInput=b.createMediaStreamSource(e);var w=g.AudioInput;w.connect(y);var _=t.bufferSize||2048;if(0===t.bufferSize&&(_=0),b.createJavaScriptNode)a=b.createJavaScriptNode(_,u,u);else{if(!b.createScriptProcessor)throw"WebAudio API has no support on this browser.";a=b.createScriptProcessor(_,u,u)}_=a.bufferSize,console.debug("using audio buffer-size:",_);var k=!1;window.scriptprocessornode=a,1===u&&console.debug("All right-channels are skipped.");var S=!1;this.pause=function(){S=!0},this.resume=function(){S=!1},this.onstop=function(){},a.onaudioprocess=function(e){if(o&&!k&&!S){var t=e.inputBuffer.getChannelData(0);if(s.push(new Float32Array(t)),2===u){var i=e.inputBuffer.getChannelData(1);n.push(new Float32Array(i))}r+=_}},y.connect(a),a.connect(b.destination)}function k(e){var t,i;this.start=function(a){for(var s in a=a||1e3,t=new S(e,this),this)"function"!==typeof this[s]&&(t[s]=this[s]);t.record(),i=setInterval((function(){t.requestData()}),a)},this.stop=function(){t&&(t.stop(),clearTimeout(i),this.onstop())},this.onstop=function(){},this.clearOldRecordedFrames=function(){t&&t.clearOldRecordedFrames()},this.pause=function(){t&&t.pause()},this.resume=function(){t&&t.resume()},this.ondataavailable=function(){}}function S(e,t){this.record=function(i){this.width||(this.width=320),this.height||(this.height=240),this.video&&this.video instanceof HTMLVideoElement&&(this.width||(this.width=o.videoWidth||o.clientWidth||320),this.height||(this.height=o.videoHeight||o.clientHeight||240)),this.video||(this.video={width:this.width,height:this.height}),this.canvas&&this.canvas.width&&this.canvas.height||(this.canvas={width:this.width,height:this.height}),c.width=this.canvas.width,c.height=this.canvas.height,this.video&&this.video instanceof HTMLVideoElement?(this.isHTMLObject=!0,o=this.video.cloneNode()):(o=document.createElement("video"),o.src=l.createObjectURL(e),o.width=this.video.width,o.height=this.video.height),o.muted=!0,o.play(),r=(new Date).getTime(),d=new C.Video(t.speed,t.quality),s()},this.clearOldRecordedFrames=function(){d.frames=[]};var i=!1;this.requestData=function(){if(!p)if(d.frames.length){i=!0;var e=d.frames.slice(0);d.frames=m(e,-1),d.compile((function(e){t.ondataavailable(e),console.debug("video recorded blob size:",f(e.size))})),d.frames=[],i=!1}else i=!1};var a=!1;function s(){if(p)return r=(new Date).getTime(),void setTimeout(s,500);if(!n){if(i)return setTimeout(s,100);var e=(new Date).getTime()-r;if(!e)return s();r=(new Date).getTime(),!h.isHTMLObject&&o.paused&&o.play(),u.drawImage(o,0,0,c.width,c.height),n||d.frames.push({duration:e,image:c.toDataURL("image/webp")}),a||v(d.frames[d.frames.length-1])||(a=!0,t.onStartedDrawingNonBlankFrames()),setTimeout(s,10)}}var n=!1;this.stop=function(){n=!0,this.requestData(),this.onstop()};var o,r,d,c=document.createElement("canvas"),u=c.getContext("2d"),h=this;function v(e,t,i){var a=document.createElement("canvas");a.width=c.width,a.height=c.height;var s,n,o,r=a.getContext("2d"),d={r:0,g:0,b:0},l=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),u=t&&t>=0&&t<=1?t:0,h=i&&i>=0&&i<=1?i:0,v=new Image;v.src=e.image,r.drawImage(v,0,0,c.width,c.height);var m=r.getImageData(0,0,c.width,c.height);s=0,n=m.data.length,o=m.data.length/4;for(var p=0;p<n;p+=4){var f={r:m.data[p],g:m.data[p+1],b:m.data[p+2]},g=Math.sqrt(Math.pow(f.r-d.r,2)+Math.pow(f.g-d.g,2)+Math.pow(f.b-d.b,2));g<=l*u&&s++}return!(o-s<=o*h)}function m(e,t,i,a){var s=document.createElement("canvas");s.width=c.width,s.height=c.height;for(var n=s.getContext("2d"),o=[],r=-1===t,d=t&&t>0&&t<=e.length?t:e.length,l={r:0,g:0,b:0},u=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),h=i&&i>=0&&i<=1?i:0,v=a&&a>=0&&a<=1?a:0,m=!1,p=0;p<d;p++){var f,g,b;if(!m){var y=new Image;y.src=e[p].image,n.drawImage(y,0,0,c.width,c.height);var w=n.getImageData(0,0,c.width,c.height);f=0,g=w.data.length,b=w.data.length/4;for(var _=0;_<g;_+=4){var k={r:w.data[_],g:w.data[_+1],b:w.data[_+2]},S=Math.sqrt(Math.pow(k.r-l.r,2)+Math.pow(k.g-l.g,2)+Math.pow(k.b-l.b,2));S<=u*h&&f++}}!m&&b-f<=b*v||(r&&(m=!0),o.push(e[p]))}return o=o.concat(e.slice(d)),o.length<=0&&o.push(e[e.length-1]),o}var p=!1;this.pause=function(){p=!0},this.resume=function(){p=!1},this.onstop=function(){}}function x(e){if("undefined"===typeof GIFEncoder)throw"Please link: https://cdn.webrtc-experiment.com/gif-recorder.js";function t(){Date.now();var e=new Blob([new Uint8Array(c.stream().bin)],{type:"image/gif"});s.ondataavailable(e),c.stream().bin=[]}this.start=function(e){e=e||1e3;var s=this.videoWidth||320,l=this.videoHeight||240;function v(e){i?setTimeout(v,500,e):(h=requestAnimationFrame(v),void 0===Object(a["a"])(d)&&(d=e),e-d<90||(r.paused&&r.play(),o.drawImage(r,0,0,s,l),c.addFrame(o),d=e))}n.width=r.width=s,n.height=r.height=l,c=new GIFEncoder,c.setRepeat(0),c.setDelay(this.frameRate||this.speed||200),c.setQuality(this.quality||1),c.start(),Date.now(),h=requestAnimationFrame(v),u=setTimeout(t,e)},this.stop=function(){h&&(cancelAnimationFrame(h),clearTimeout(u),t(),this.onstop())},this.onstop=function(){};var i=!1;this.pause=function(){i=!0},this.resume=function(){i=!1},this.ondataavailable=function(){},this.onstop=function(){};var s=this,n=document.createElement("canvas"),o=n.getContext("2d"),r=document.createElement("video");r.muted=!0,r.autoplay=!0,r.src=l.createObjectURL(e),r.play();var d,c,u,h=null}"undefined"!==typeof s&&(s.MediaRecorderWrapper=y),"undefined"!==typeof s&&(s.StereoAudioRecorder=w),"undefined"!==typeof s&&(s.StereoAudioRecorderHelper=_),"undefined"!==typeof s&&(s.WhammyRecorder=k),"undefined"!==typeof s&&(s.WhammyRecorderHelper=S),"undefined"!==typeof s&&(s.GifRecorder=x);var C=function(){function e(e,t){this.frames=[],e||(e=1),this.duration=1e3/e,this.quality=t||.8}function t(e){var t=l.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (e) {"+e.name+"(e.data);}"],{type:"application/javascript"})),i=new Worker(t);return l.revokeObjectURL(t),i}function i(e){function t(e){var t=s(e);if(!t)return[];var a=3e4,n=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:v(t.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:t.width,id:176},{data:t.height,id:186}]}]}]}]}],o=0,r=0;while(o<e.length){var l=[],c=0;do{l.push(e[o]),c+=e[o].duration,o++}while(o<e.length&&c<a);var u=0,h={id:524531317,data:i(r,u,l)};n[1].data.push(h),r+=c}return d(n)}function i(e,t,i){return[{data:e,id:231}].concat(i.map((function(e){var i=l({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:i,id:163}})))}function s(e){if(e[0]){for(var t=e[0].width,i=e[0].height,a=e[0].duration,s=1;s<e.length;s++)a+=e[s].duration;return{duration:a,width:t,height:i}}postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."})}function n(e){var t=[];while(e>0)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function o(e){return new Uint8Array(e.split("").map((function(e){return e.charCodeAt(0)})))}function r(e){var t=[],i=e.length%8?new Array(9-e.length%8).join("0"):"";e=i+e;for(var a=0;a<e.length;a+=8)t.push(parseInt(e.substr(a,8),2));return new Uint8Array(t)}function d(e){for(var t=[],i=0;i<e.length;i++){var s=e[i].data;"object"===Object(a["a"])(s)&&(s=d(s)),"number"===typeof s&&(s=r(s.toString(2))),"string"===typeof s&&(s=o(s));var l=s.size||s.byteLength||s.length,c=Math.ceil(Math.ceil(Math.log(l)/Math.log(2))/8),u=l.toString(2),h=new Array(7*c+7+1-u.length).join("0")+u,v=new Array(c).join("0")+"1"+h;t.push(n(e[i].id)),t.push(r(v)),t.push(s)}return new Blob(t,{type:"video/webm"})}function l(e){var t=0;if(e.keyframe&&(t|=128),e.invisible&&(t|=8),e.lacing&&(t|=e.lacing<<1),e.discardable&&(t|=1),e.trackNum>127)throw"TrackNumber > 127 not supported";var i=[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map((function(e){return String.fromCharCode(e)})).join("")+e.frame;return i}function c(e){for(var t,i,a,s=e.RIFF[0].WEBP[0],n=s.indexOf("*"),o=0,r=[];o<4;o++)r[o]=s.charCodeAt(n+3+o);return a=r[1]<<8|r[0],t=16383&a,a=r[3]<<8|r[2],i=16383&a,{width:t,height:i,data:s,riff:e}}function u(e,t){return parseInt(e.substr(t+4,4).split("").map((function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t})).join(""),2)}function h(e){var t=0,i={};while(t<e.length){var a=e.substr(t,4),s=u(e,t),n=e.substr(t+4+4,s);t+=8+s,i[a]=i[a]||[],"RIFF"===a||"LIST"===a?i[a].push(h(n)):i[a].push(n)}return i}function v(e){return[].slice.call(new Uint8Array(new Float64Array([e]).buffer),0).map((function(e){return String.fromCharCode(e)})).reverse().join("")}var m=new t(e.map((function(e){var t=c(h(atob(e.image.slice(23))));return t.duration=e.duration,t})));postMessage(m)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var a=t(i);a.onmessage=function(t){t.data.error?console.error(t.data.error):e(t.data)},a.postMessage(this.frames)},{Video:e}}();"undefined"!==typeof s&&(s.Whammy=C),function(){window.ConcatenateBlobs=function(e,t,i){var a=[],s=0;function n(){if(!e[s])return o();var t=new FileReader;t.onload=function(e){a.push(e.target.result),s++,n()},t.readAsArrayBuffer(e[s])}function o(){var e=0;a.forEach((function(t){e+=t.byteLength}));var s=new Uint16Array(e),n=0;a.forEach((function(e){var t=e.byteLength;t%2!=0&&(e=e.slice(0,t-1)),s.set(new Uint16Array(e),n),n+=t}));var o=new Blob([s.buffer],{type:t});i(o)}n()}}(),t["a"]=s,"function"===typeof define&&i("913b")&&define("MediaStreamRecorder",[],(function(){return s}))}).call(this,i("24aa"))},4678:function(e,t,i){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=n(e);return i(t)}function n(e){if(!i.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=n,e.exports=s,s.id="4678"},"484f":function(e,t,i){},"484ff":function(e,t,i){},"4ca0":function(e,t,i){"use strict";var a=i("e59c"),s=i.n(a);s.a},"526f":function(e,t,i){"use strict";var a=i("3623"),s=i.n(a);s.a},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("a026"),s=i("2f62"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{main:e.main},attrs:{id:"app"}},[i("transition",{attrs:{name:"fade",mode:"out-in"}},[e.initCheck?i("router-view",{staticStyle:{margin:"0 auto"}}):e._e()],1),e.loggedIn?i("Footer"):e._e()],1)},o=[],r=(i("b0c0"),i("96cf"),i("1da1")),d=i("8aa5"),l=i.n(d),c=(i("99af"),i("bc3a")),u=i.n(c),h={coronavoice:{name:"Corona Voice",helpDescription:"We want to know how the coronavirus epidemic is impacting your work and to find out more about the challenges you face and what things there are which can offer a helping hand at this difficult time.\n    \nIt’s quick and easy to leave your feedback, simply click on the site most relevant to you.",logo:"/img/logos/selogo.svg",themeColor:"#00a9ce",api:"https://openlab.ncl.ac.uk/dokku/coronavoice-api/",baseUrl:"https://coronavoice.openlab.ncl.ac.uk",packageName:"uk.ac.ncl.openlab.coronavoice",dynamicLink:"coronavoice.page.link"},thoughtcloud:{name:"thoughtcloud",themeColor:"#4192a1",api:"https://openlab.ncl.ac.uk/dokku/tcv2-api/",baseUrl:"https://thoughtcloud.openlab.ncl.ac.uk",packageName:"uk.ac.ncl.openlab.thoughtcloud",dynamicLink:"thoughtcloud.page.link"},debug:{name:"Corona Voice",helpDescription:"We want to know how the coronavirus epidemic is impacting your work and to find out more about the challenges you face and what things there are which can offer a helping hand at this difficult time.\n    \nIt’s quick and easy to leave your feedback, simply click on the site most relevant to you.",logo:"/img/logos/selogo.svg",themeColor:"#00a9ce",api:"http://localhost:4444//",baseUrl:"https://coronavoice.openlab.ncl.ac.uk",packageName:"uk.ac.ncl.openlab.coronavoice",dynamicLink:"coronavoice.page.link"},debug2:{name:"Corona Voice",helpDescription:"We want to know how the coronavirus epidemic is impacting your work and to find out more about the challenges you face and what things there are which can offer a helping hand at this difficult time.\n    \nIt’s quick and easy to leave your feedback, simply click on the site most relevant to you.",logo:"/img/logos/selogo.svg",themeColor:"#00a9ce",api:"https://openlab.ncl.ac.uk/dokku/coronavoice-dev/",baseUrl:"https://coronavoice.openlab.ncl.ac.uk",packageName:"uk.ac.ncl.openlab.coronavoice",dynamicLink:"coronavoice.page.link"},debuglive:{name:"Corona Voice",helpDescription:"We want to know how the coronavirus epidemic is impacting your work and to find out more about the challenges you face and what things there are which can offer a helping hand at this difficult time.\n    \nIt’s quick and easy to leave your feedback, simply click on the site most relevant to you.",logo:"/img/logos/selogo.svg",themeColor:"#00a9ce",api:"https://openlab.ncl.ac.uk/dokku/coronavoice-dev/",baseUrl:"https://not-dalia.github.io/coronavoice-dev",packageName:"uk.ac.ncl.openlab.coronavoice",dynamicLink:"coronavoice.page.link"}},v=u.a.create({baseURL:h["debuglive"].api+"api/",json:!0}),m={execute:function(e,t,i){var a=arguments;return Object(r["a"])(regeneratorRuntime.mark((function s(){var n,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(n=a.length>3&&void 0!==a[3]?a[3]:"application/json",!l.a.auth().currentUser){s.next=7;break}return s.next=4,l.a.auth().currentUser.getIdToken(!0);case 4:s.t0=s.sent,s.next=8;break;case 7:s.t0=null;case 8:return o=s.t0,s.abrupt("return",v({method:e,url:t,data:i,headers:{"Content-Type":n,"X-Firebase-ID-Token":o}}).then((function(e){return e.data})).catch((function(e){return{error:!0,errorMessage:e.response}})));case 10:case"end":return s.stop()}}),s)})))()},checkUser:function(e){return this.execute("get","/checkuser?email=".concat(encodeURIComponent(e)))},login:function(e){return this.execute("post","/login",e)},signup:function(e){return this.execute("post","/signup",e)},getUserEvents:function(e){return this.execute("get","/userEvents/".concat(e))},getEvent:function(e){return this.execute("get","/event/".concat(e))},getSessionEvent:function(e){return this.execute("get","/session/".concat(e))},getSessionId:function(e){return this.execute("get","/joinsession/".concat(e))},getSessionRatings:function(e){return this.execute("get","/sessionpublicdata/".concat(e))},getPublicFeedback:function(e){return this.execute("get","/displaydata/".concat(e))},getFeedbackHistory:function(){return this.execute("get","/feedbackHistory/")},getFeedbackItem:function(e){return this.execute("get","/feedback/".concat(e))},submitFeedback:function(e){return this.execute("post","/feedback",e)},submitMediaFeedback:function(e){return this.execute("post","/mediafeedback",e)},getSessions:function(e){return this.execute("get","/sessions/".concat(e))},getVisualization:function(e){return this.execute("get","/visualization/".concat(e))},getSession:function(e,t){return this.execute("get","/workshops/".concat(e,"/").concat(t))},getSignedS3:function(e,t,i){return e=encodeURIComponent(e),t=encodeURIComponent(t),i=encodeURIComponent(i),this.execute("get","/s3_upload?filename=".concat(e,"&filetype=").concat(t,"&uploadtype=").concat(i))},finishSession:function(e,t){return this.execute("post","/workshops/".concat(e,"/").concat(t,"/finish"))},addRecording:function(e){return this.execute("post","/recordings",e)},updateWorkshop:function(e,t){return this.execute("put","/workshops/".concat(e),t)},getAdminEvents:function(e,t){return this.execute("get","/admin/event/",t)},getAdminEventDetails:function(e,t){return this.execute("get","/admin/eventdetails/".concat(e),t)},getAdminEventFeedback:function(e,t,i,a){return this.execute("get","/admin/eventfeedback/".concat(e,"?from=").concat(encodeURIComponent(t),"&to=").concat(encodeURIComponent(i)),a)},getAdminEventComments:function(e,t,i,a){return this.execute("get","/admin/eventcomments/".concat(e,"?from=").concat(encodeURIComponent(t),"&to=").concat(encodeURIComponent(i)),a)},getAdminEventStats:function(e,t,i,a){return this.execute("get","/admin/eventstats/".concat(e,"?from=").concat(encodeURIComponent(t),"&to=").concat(encodeURIComponent(i)),a)},createEvent:function(e){return this.execute("post","/admin/event/",e)},updateEvent:function(e){return this.execute("put","/admin/event/",e)},createSession:function(e){return this.execute("post","/admin/session/",e)},updateSession:function(e){return this.execute("put","/admin/session/",e)},uploadFile:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a={headers:{"Content-Type":t.type}},i.abrupt("return",u.a.put(e,t,a).then((function(e){return e.data})).catch((function(e){return{error:!0,errorMessage:e.response}})));case 2:case"end":return i.stop()}}),i)})))()}};a["a"].use(s["a"]);var p=new s["a"].Store({state:{currentUser:null,userRole:null,initLoginCheck:!1,selectedTimePeriod:"today",selectedRatingFilter:"all",selectedTypeFilter:"all",selectedSessionFilter:"all"},mutations:{updateUser:function(e,t){var i=t.user;e.currentUser=i,console.log(e.currentUser)},updateRole:function(e,t){var i=t.role;e.userRole=i},updateAdminFilter:function(e,t){var i=t.selectedTimePeriod,a=t.selectedRatingFilter,s=t.selectedTypeFilter,n=t.selectedSessionFilter;e.selectedTimePeriod=i||e.selectedTimePeriod,e.selectedRatingFilter=a||e.selectedRatingFilter,e.selectedTypeFilter=s||e.selectedTypeFilter,e.selectedSessionFilter=n||e.selectedSessionFilter}},actions:{updateAdminFilter:function(e,t){var i=e.commit;e.state;i("updateAdminFilter",t)},updateUser:function(e,t){var i=e.commit;e.state;i("updateUser",{user:t}),t&&m.login({userId:t.uid,name:t.displayName,email:t.email}).then((function(e){t.userId=e[0].user_id,t.userRole=e[0].user_role,i("updateRole",{role:t.userRole})}))},updateRole:function(e,t){var i=e.commit;e.state;i("updateRole",{role:t})}},getters:{instance:function(){return h["debuglive"].name||"thoughtcloud"},instanceColor:function(){return h["debuglive"].themeColor||"#4192a1"},instanceLogo:function(){return h["debuglive"].logo},instanceApi:function(){return h["debuglive"].api||"https://openlab.ncl.ac.uk/dokku/tcv2-api/"},instanceBaseUrl:function(){return h["debuglive"].baseUrl||"http://thoughtcloud.openlab.ncl.ac.uk"},instancePackageName:function(){return h["debuglive"].packageName||"uk.ac.ncl.openlab.thoughtcloud"},instanceDynamicLink:function(){return h["debuglive"].dynamicLink||"thoughtcloud.page.link"},instanceHelpDescription:function(){return h["debuglive"].helpDescription||""}}}),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$store.state.currentUser?a("div",{attrs:{id:"footer"}},[a("div",{attrs:{id:"fc"}},[a("router-link",{attrs:{to:"/home"}},[a("font-awesome-icon",{attrs:{icon:"home"}})],1)],1),a("div",{attrs:{id:"fc"}},[a("router-link",{attrs:{to:"/history"}},[a("font-awesome-icon",{attrs:{icon:"history"}})],1)],1),a("div",{attrs:{id:"fc"}},[a("router-link",{attrs:{to:"/settings"}},[a("font-awesome-icon",{attrs:{icon:"cog"}})],1)],1),"admin"==e.userRole?a("div",{attrs:{id:"fc"}},[a("router-link",{attrs:{to:"/admin/"}},[a("font-awesome-icon",{attrs:{icon:"users-cog"}})],1)],1):e._e(),a("div",{staticClass:"info-footer"},[a("img",{staticClass:"idi",attrs:{src:i("bc8c")}}),a("div",[a("div",[a("router-link",{attrs:{id:"privacy",to:{name:"privacy"}}},[e._v("Privacy Policy")]),a("span",[e._v("|")]),a("router-link",{attrs:{id:"privacy",to:{name:"terms"}}},[e._v("Terms of Use")])],1),a("div",{attrs:{id:"currently-logged"}},[e._v("Currently logged in as"),a("span",[e._v(e._s(e.$store.state.currentUser.isAnonymous?"Anonymous":e.$store.state.currentUser.email))])])])])]):e._e()},g=[],b=(i("ac1f"),i("5319"),{name:"Footer",data:function(){return{}},computed:{userRole:function(){return this.$store.state.userRole}},watch:{userRole:function(e,t){e&&(this.user=e)}},methods:{join:function(e){var t=this;e=window.prompt("Please enter join code"),e&&m.getSessionId(e).then((function(e){e&&e.id?t.$router.push({name:"event",params:{sessionId:e.id}}):(t.error=!0,t.$router.replace({name:"home"}))}))}}}),y=b,w=(i("1ef2"),i("0c7c")),_=Object(w["a"])(y,f,g,!1,null,"547ff61e",null),k=_.exports,S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"header"}},[i("div",{attrs:{id:"logo-container"}},[e.noback?e._e():i("a",{attrs:{id:"back"},on:{click:e.goBack}},[i("font-awesome-icon",{attrs:{icon:"arrow-left"}})],1),i("div",{attrs:{id:"logo"}},[e.instanceLogo?i("img",{attrs:{src:e.instanceLogo}}):e._e(),i("span",[e._v(e._s(e.instance))])]),i("div",{attrs:{id:"link-logo"}},[e.instanceLogo?i("img",{attrs:{src:e.instanceLogo}}):e._e(),i("router-link",{attrs:{to:"/home"}},[e._v(e._s(e.instance))])],1)]),e.nolinks?e._e():i("div",{attrs:{id:"nav-links"}},[i("div",{attrs:{id:"fc"}},[i("router-link",{attrs:{to:"/history"}},[i("font-awesome-icon",{attrs:{icon:"history"}})],1)],1),i("div",{attrs:{id:"fc"}},[i("router-link",{attrs:{to:"/settings"}},[i("font-awesome-icon",{attrs:{icon:"cog"}})],1)],1),"admin"==e.userRole?i("div",{attrs:{id:"fc"}},[i("router-link",{attrs:{to:"/admin/"}},[i("font-awesome-icon",{attrs:{icon:"users-cog"}})],1)],1):e._e()])])},x=[],C=i("5530"),F={name:"Header",data:function(){return{role:null}},props:["noback","nolinks"],computed:Object(C["a"])({userRole:function(){return this.$store.state.userRole}},Object(s["b"])(["instance","instanceLogo"])),watch:{userRole:function(e,t){e&&(this.user=e)}},methods:{goBack:function(){this.$router.go(-1)},join:function(e){var t=this;e=window.prompt("Please enter join code"),e&&m.getSessionId(e).then((function(e){e&&e.id?t.$router.push({name:"event",params:{sessionId:e.id}}):(t.error=!0,t.$router.replace({name:"home"}))}))}}},E=F,T=(i("f5db"),Object(w["a"])(E,S,x,!1,null,"4964da27",null)),R=T.exports,A={name:"App",components:{Header:R,Footer:k},store:p,data:function(){return{btTimer:null,loggedIn:!1,initCheck:!1}},computed:{main:function(){return"home"===this.$router.currentRoute.name}},methods:{startBluetoothScan:function(){var e=this;window.evothings.eddystone.startScan((function(t){window.evothings.eddystone.stopScan(),e.btTimer&&clearTimeout(e.btTimer),e.btTimer=setTimeout(e.startBluetoothScan,2e4)}),(function(e){console.log("Eddystone scan error: "+e)}))}},created:function(){document.title=p.getters.instance},mounted:function(){var e=this;if(l.a.auth().onAuthStateChanged((function(t){t?(e.loggedIn=!0,p.dispatch("updateUser",t)):(e.loggedIn=!1,p.dispatch("updateUser",null)),e.initCheck=!0})),l.a.auth().isSignInWithEmailLink(window.location.href)){var t=window.localStorage.getItem("emailForSignIn");t||(t=window.prompt("Please provide your email for confirmation")),l.a.auth().signInWithEmailLink(t,window.location.href).then((function(e){window.localStorage.removeItem("emailForSignIn"),window.location.href=p.getters.instanceBaseUrl,e.user&&p.dispatch("updateUser",e.user)})).catch((function(e){console.log(e)}))}document.addEventListener("deviceready",Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))))}},D=A,P=(i("7faf"),Object(w["a"])(D,n,o,!1,null,null,null)),U=P.exports,I=(i("45fc"),i("d3b7"),i("8c4f")),L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("CloudTemplate",{attrs:{title:e.signupView?"Sign Up":"Login"},scopedSlots:e._u([{key:"content",fn:function(){return[i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{id:"answer-buttons"}},[i("Loader",{attrs:{loading:e.loading}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&!e.emailRequested&&!e.signupView,expression:"!loading && !emailRequested && !signupView"}],attrs:{id:"answer-buttons"}},[i("div",{staticClass:"row"},[i("div",{attrs:{id:"title"}},[e._v("Sign in")])]),i("div",{staticClass:"row"},[i("div",{attrs:{id:"subtitle"}},[e._v("to continue")])]),i("div",{staticClass:"row"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),i("div",{staticClass:"row"},[i("button",{staticStyle:{"font-size":"12pt"},attrs:{id:"login-button",href:"#"},on:{click:function(t){return e.login()}}},[e._v("Sign in")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&!e.emailRequested&&e.signupView,expression:"!loading && !emailRequested && signupView"}],attrs:{id:"answer-buttons"}},[i("div",{staticClass:"row"},[i("div",{attrs:{id:"title"}},[e._v("Sign up")])]),i("div",{staticClass:"row"},[i("div",{attrs:{id:"subtitle"}},[e._v("to continue")])]),i("div",{staticClass:"row"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),i("div",{staticClass:"row"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),i("div",{staticClass:"row"},[i("button",{staticStyle:{"font-size":"12pt"},on:{click:function(t){return e.signup()}}},[e._v("Sign Up")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&e.emailRequested,expression:"!loading && emailRequested"}],attrs:{id:"answer-buttons"}},[i("div",{staticClass:"row"},[i("div",{attrs:{id:"subtitle"}},[e._v("Check your email for login link")])])])])]},proxy:!0}])})},j=[],O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{"padding-top":"60px"}},[e.loading?i("div",{staticClass:"la-ball-clip-rotate la-2x",staticStyle:{color:"#79bbb5",margin:"0 auto"}},[i("div")]):e._e()])},M=[],N={name:"Loader",props:["loading"]},$=N,q=(i("62ee"),Object(w["a"])($,O,M,!1,null,"51c3f6f2",null)),Y=q.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"main"}},[a("div",{attrs:{id:"back-header"}},[e.back?a("a",{attrs:{id:"back"},on:{click:e.goBack}},[a("font-awesome-icon",{attrs:{icon:"arrow-left"}})],1):e._e(),e.instanceLogo?a("img",{attrs:{src:e.instanceLogo}}):e._e(),a("span",[e._v(e._s(e.instance))])]),a("Header",{attrs:{noback:!e.back}}),a("div",{attrs:{id:"cloud-head"}},[a("img",{attrs:{src:i("6bd0")}}),a("div",{attrs:{id:"head-content"}},[e._v(e._s(e.title))])]),a("div",{attrs:{id:"cloud-body"}},[a("div",{attrs:{id:"content"}},[a("div",{attrs:{id:"content-header"}},[a("div",{attrs:{id:"logo"}},[e._v(e._s(e.title))])]),a("div",{attrs:{id:"content-body"}},[e._t("content")],2)])]),a("div",{attrs:{id:"info-footer"}},[a("img",{staticClass:"idi",attrs:{src:i("0b6d")}}),a("div",[a("div",[a("router-link",{attrs:{id:"privacy",to:{name:"privacy"}}},[e._v("Privacy Policy")]),a("span",[e._v("|")]),a("router-link",{attrs:{id:"privacy",to:{name:"terms"}}},[e._v("Terms of Use")])],1),a("div",{attrs:{id:"currently-logged"}},[e._v("Currently logged in as"),a("span",[e._v(e._s(e.$store.state.currentUser.isAnonymous?"Anonymous":e.$store.state.currentUser.email))])])])]),a("div",{class:{open:e.isOpenHelp},attrs:{id:"overlay"},on:{click:e.closeHelp}}),e.main?a("div",{class:{open:e.isOpenHelp},attrs:{id:"need-help"}},[a("div",{staticClass:"label",class:{open:e.isOpenHelp},on:{click:e.toggleHelp}},[a("div",{staticClass:"text"},[e._v("Need help?")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFullyClosed,expression:"!isFullyClosed"}],staticClass:"content-container"},[a("div",{staticClass:"close"},[a("a",{on:{click:e.closeHelp}},[e._v("X")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFullyClosed,expression:"!isFullyClosed"}],staticClass:"content"},[a("h3",[e._v(e._s(e.instance))]),a("p",{staticStyle:{"white-space":"pre-wrap"}},[e._v(e._s(e.instanceHelpDescription))]),a("p",{staticClass:"q"},[e._v("Can’t see anything to click on?")]),a("blockquote",[e._v("Press the "),a("strong",[e._v("cog")]),e._v(" icon ("),a("font-awesome-icon",{attrs:{icon:"cog"}}),e._v(") to enter a join code or log in")],1),a("p",{staticClass:"q"},[e._v("What are the other buttons for?")]),a("blockquote",[e._v("The "),a("strong",[e._v("home")]),e._v(" icon ("),a("font-awesome-icon",{attrs:{icon:"home"}}),e._v(") brings you back here")],1),a("blockquote",[e._v("The "),a("strong",[e._v("clock")]),e._v(" icon ("),a("font-awesome-icon",{attrs:{icon:"history"}}),e._v(") allows you to view your feedback history")],1),a("p",{staticClass:"q"},[e._v("What is a join code?")]),a("blockquote",[e._v("A join code is a five letter code that allows access to a survey for a particular site. It may have been sent to you by email along with a direct link")]),a("p",{staticClass:"q"},[e._v("Why would I log in?")]),a("blockquote",[e._v("If you log in you can keep track what feedback you have left and come back leave more so we can see how things are changing over time")]),a("p",{staticClass:"q"},[e._v("How do I log in?")]),a("blockquote",[e._v("Just enter an email, you will be sent a verification email, clicking the link in there logs you in!")])])])]):e._e()],1)},H=[],W={name:"CloudTemplate",props:["back","title"],computed:Object(C["a"])({main:function(){return"home"===this.$route.name}},Object(s["b"])(["instance","instanceLogo","instanceHelpDescription"])),methods:{goBack:function(){this.$router.go(-1)},closeHelp:function(){var e=this;this.isOpenHelp=!1,this.transitionTimer=setTimeout((function(){e.isFullyClosed=!0}),500)},openHelp:function(){clearTimeout(this.transitionTimer),this.isFullyClosed=!1,this.isOpenHelp=!0},toggleHelp:function(){this.isOpenHelp?this.closeHelp():this.openHelp()}},data:function(){return{isOpenHelp:!1,isFullyClosed:!0,transitionTimer:null}},components:{Header:R}},z=W,V=(i("c1d6"),i("9b0c"),Object(w["a"])(z,B,H,!1,null,"10cd4395",null)),G=V.exports,Q={name:"Login",props:["to"],components:{Loader:Y,CloudTemplate:G},methods:{login:function(){var e=this,t={url:this.$store.getters.instanceBaseUrl,handleCodeInApp:!0,iOS:{bundleId:this.$store.getters.instancePackageName},android:{packageName:this.$store.getters.instancePackageName,installApp:!1,minimumVersion:"12"},dynamicLinkDomain:this.$store.getters.instanceDynamicLink},i=this.email;m.checkUser(this.email).then((function(a){a?a.exists?l.a.auth().sendSignInLinkToEmail(i,t).then((function(){window.localStorage.setItem("emailForSignIn",i),e.emailRequested=!0})).catch((function(e){console.log(e)})):e.signupView=!0:e.error=!0}))},signup:function(){var e=this,t={url:this.$store.getters.instanceBaseUrl,handleCodeInApp:!0,iOS:{bundleId:this.$store.getters.instancePackageName},android:{packageName:this.$store.getters.instancePackageName,installApp:!1,minimumVersion:"12"},dynamicLinkDomain:this.$store.getters.instanceDynamicLink},i=this.email;m.signup({email:this.email,name:this.name}).then((function(a){a?l.a.auth().sendSignInLinkToEmail(i,t).then((function(){window.localStorage.setItem("emailForSignIn",i),e.emailRequested=!0})).catch((function(e){console.log(e)})):e.error=!0}))}},data:function(){return{question:"How was today's session?",questionId:1,email:"",name:"",signupView:!1,emailRequested:!1,loading:!0,timer:null}},computed:{loginStatus:function(){return this.$store.state.currentUser}},watch:{loginStatus:function(e,t){var i=this;if(e&&!this.timer){var a=this.to&&"login"!==this.to.name?{name:this.to.name,params:Object(C["a"])({},this.to.params)}:{name:"home"};this.timer=setTimeout((function(){i.timer=null,i.$router.replace(a)}),3e3)}}},mounted:function(){var e=this,t=this.to&&"login"!==this.to.name?{name:this.to.name,params:Object(C["a"])({},this.to.params)}:{name:"home"};this.$store.state.currentUser&&this.$router.replace(t),this.$store.state.currentUser||l.a.auth().signInAnonymously().catch((function(t){t&&(e.error=!0)})),setTimeout((function(){e.loading=!1}),5e3),document.addEventListener("deviceready",Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.ready=!0,e.email=window.localStorage.getItem("emailForSignIn");case 2:case"end":return t.stop()}}),t)}))),!1)}},J=Q,K=(i("5bea"),Object(w["a"])(J,L,j,!1,null,"0c4df5c9",null)),X=K.exports,Z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("CloudTemplate",{attrs:{title:e.signupView?"Sign Up":"Login"},scopedSlots:e._u([{key:"content",fn:function(){return[i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{id:"login-section"}},[i("Loader",{attrs:{loading:e.loading}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&!e.emailRequested&&!e.signupView,expression:"!loading && !emailRequested && !signupView"}],attrs:{id:"login-section"}},[i("div",{staticClass:"row"},[i("div",{attrs:{id:"title"}},[e._v("Sign in")])]),i("div",{staticClass:"row"},[i("div",{attrs:{id:"subtitle"}},[e._v("to continue")])]),i("div",{staticClass:"row"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),i("div",{staticClass:"row"},[i("button",{staticStyle:{"font-size":"12pt"},attrs:{id:"login-button",href:"#"},on:{click:function(t){return e.login()}}},[e._v("Sign in")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&!e.emailRequested&&e.signupView,expression:"!loading && !emailRequested && signupView"}],attrs:{id:"login-section"}},[i("div",{staticClass:"row"},[i("div",{attrs:{id:"title"}},[e._v("Sign up")])]),i("div",{staticClass:"row"},[i("div",{attrs:{id:"subtitle"}},[e._v("to continue")])]),i("div",{staticClass:"row"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),i("div",{staticClass:"row"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),i("div",{staticClass:"row"},[i("button",{staticStyle:{"font-size":"12pt"},on:{click:function(t){return e.signup()}}},[e._v("Sign Up")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&e.emailRequested,expression:"!loading && emailRequested"}],attrs:{id:"login-section"}},[i("div",{staticClass:"row"},[i("div",{attrs:{id:"subtitle"}},[e._v("Check your email for login link")])])])])]},proxy:!0}])})},ee=[],te={name:"EmailLogin",props:["to"],components:{Loader:Y,CloudTemplate:G},methods:{login:function(){var e=this,t={url:this.$store.getters.instanceBaseUrl,handleCodeInApp:!0,iOS:{bundleId:this.$store.getters.instancePackageName},android:{packageName:this.$store.getters.instancePackageName,installApp:!1,minimumVersion:"12"},dynamicLinkDomain:this.$store.getters.instanceDynamicLink},i=this.email;m.checkUser(this.email).then((function(a){console.log(a),a?a.exists?l.a.auth().sendSignInLinkToEmail(i,t).then((function(){window.localStorage.setItem("emailForSignIn",i),e.emailRequested=!0})).catch((function(e){console.log(e)})):(console.log("new user"),e.signupView=!0):e.error=!0}))},signup:function(){var e=this,t={url:this.$store.getters.instanceBaseUrl,handleCodeInApp:!0,iOS:{bundleId:this.$store.getters.instancePackageName},android:{packageName:this.$store.getters.instancePackageName,installApp:!1,minimumVersion:"12"},dynamicLinkDomain:this.$store.getters.instanceDynamicLink},i=this.email;m.signup({email:this.email,name:this.name}).then((function(a){console.log(a),a?l.a.auth().sendSignInLinkToEmail(i,t).then((function(){window.localStorage.setItem("emailForSignIn",i),e.emailRequested=!0})).catch((function(e){console.log(e)})):e.error=!0}))}},data:function(){return{question:"How was today's session?",questionId:1,email:"",name:"",signupView:!1,emailRequested:!1,loading:!0,timer:null}},computed:{loginStatus:function(){return this.$store.state.currentUser}},watch:{loginStatus:function(e,t){var i=this;if(e&&!this.timer){var a=this.to&&"login"!==this.to.name?{name:this.to.name,params:Object(C["a"])({},this.to.params)}:{name:"home"};this.timer=setTimeout((function(){i.timer=null,console.log("this.to:"),console.log(i.to),i.$router.replace(a)}),3e3)}}},mounted:function(){var e=this;console.log("props: "+this.$store.state.currentUser),console.log(this.to);var t=this.to&&"login"!==this.to.name?{name:this.to.name,params:Object(C["a"])({},this.to.params)}:{name:"home"};this.$store.state.currentUser&&this.$router.replace(t),setTimeout((function(){e.loading=!1}),5e3),document.addEventListener("deviceready",Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.ready=!0,console.log("ready"),e.email=window.localStorage.getItem("emailForSignIn");case 3:case"end":return t.stop()}}),t)}))),!1)}},ie=te,ae=(i("870d"),Object(w["a"])(ie,Z,ee,!1,null,"79b88a74",null)),se=ae.exports,ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("PlainTemplate",{attrs:{title:"Details",back:"true"},scopedSlots:e._u([{key:"content",fn:function(){return[i("div",{attrs:{id:"thank-you"}},[i("h2",[e._v("Thank you!")]),i("div",{attrs:{id:"thanks-text"},domProps:{innerHTML:e._s(e.thanksText)}}),i("thanks",{attrs:{sessionId:e.sessionId}})],1)]},proxy:!0}])})},oe=[],re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"thanks"}},[e.loading?i("div",[i("Loader",{attrs:{loading:e.loading}})],1):e._e(),e.rating&&e.rating.data.length>0?i("p",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticStyle:{margin:"1px"}},[e._v("Generated on"),i("span",{staticStyle:{"font-weight":"bold"}},[e._v(" "+e._s(e._f("moment")(this.rating.date,"M/D/YYYY, hh:mma")))]),e._v(", with"),i("span",{staticStyle:{"font-weight":"bold"}},[e._v(" "+e._s(this.people)+" participants")])]):e._e(),e.rating&&e.rating.data.length>0?i("donut-chart",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{"chart-data":e.datacollection}}):e._e(),e.rating&&0!=e.rating.data.length?e._e():i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{id:"no-data"}},[e._v("No data available")])],1)},de=[],le=(i("4160"),i("159b"),i("1fca")),ce={extends:le["a"],mixins:[le["d"].reactiveProp],props:["chartdata","options"],mounted:function(){this.renderChart(this.chartData,this.options||{legend:{display:!0,labels:{fontSize:16}},tooltips:{callbacks:{label:function(e){return" ".concat(e.yLabel," %")}}},scales:{yAxes:[{display:!0,ticks:{beginAtZero:!0,callback:function(e,t,i){return e+"%"}},scaleLabel:{display:!0,labelString:"Responses"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Rating"}}]},responsive:!0,maintainAspectRatio:!1,height:300})}},ue={name:"thanks",props:["sessionId"],components:{DonutChart:ce,Loader:Y},mounted:function(){var e=this;this.loading=!0,this.getColours(),m.getSessionRatings(this.sessionId).then((function(t){e.loading=!1,e.rating=t,e.fillData()}))},data:function(){return{rating:null,datacollection:{},people:0,loading:!1,chartColours:null}},methods:{getColours:function(){var e=[4,90,58],t=[122,39,49];this.chartColours=[];for(var i=0;i<10;i++)this.chartColours.push("hsl(".concat(Math.round(e[0]+i*(t[0]-e[0])/10),", ").concat(Math.round(e[1]-i*(e[1]-t[1])/10),"%, ").concat(Math.round(e[2]+i*(t[2]-e[2])/10),"%)"))},fillData:function(){var e=this,t=[0,0,0,0,0,0,0,0,0,0];this.people=0,this.rating.data.forEach((function(i){i.rating<=10&&(t[i.rating-1]=i.count),e.people+=i.count})),this.datacollection={labels:[1,2,3,4,5,6,7,8,9,10],type:"bar",datasets:[{data:t,label:"Results",backgroundColor:this.chartColours||"#8BC34A"}]}}}},he=ue,ve=(i("8990"),Object(w["a"])(he,re,de,!1,null,"7d33728b",null)),me=ve.exports,pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"main"}},[a("Header"),a("div",{attrs:{id:"cloud-body"}},[a("div",{attrs:{id:"content"}},[a("div",{attrs:{id:"content-header"}},[a("div",{attrs:{id:"logo"}},[e._v(e._s(e.title))])]),a("div",{attrs:{id:"tabs"}},[e._t("tabs")],2),a("div",{attrs:{id:"content-body"}},[e._t("content")],2)])]),a("div",{attrs:{id:"info-footer"}},[a("img",{staticClass:"idi",attrs:{src:i("0b6d")}}),a("div",[a("div",[a("router-link",{attrs:{id:"privacy",to:{name:"privacy"}}},[e._v("Privacy Policy")]),a("span",[e._v("|")]),a("router-link",{attrs:{id:"privacy",to:{name:"terms"}}},[e._v("Terms of Use")])],1),a("div",{attrs:{id:"currently-logged"}},[e._v("Currently logged in as"),a("span",[e._v(e._s(e.$store.state.currentUser.isAnonymous?"Anonymous":e.$store.state.currentUser.email))])])])])],1)},fe=[],ge={name:"CloudTemplate",props:["back","title"],methods:{goBack:function(){this.$router.go(-1)}},components:{Header:R}},be=ge,ye=(i("b848"),i("a09f"),Object(w["a"])(be,pe,fe,!1,null,"b4a588aa",null)),we=ye.exports,_e={name:"Thankyou",props:["sessionId"],components:{Thanks:me,PlainTemplate:we},data:function(){return{thanksText:null}},mounted:function(){var e=this;m.getSessionEvent(this.sessionId).then((function(t){e.thanksText=t[0].thanks_text})),document.addEventListener("deviceready",Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.ready=!0;case 1:case"end":return t.stop()}}),t)}))),!1)}},ke=_e,Se=(i("8363"),Object(w["a"])(ke,ne,oe,!1,null,"be0f2198",null)),xe=Se.exports,Ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("PlainTemplate",{attrs:{title:e.event?e.event.event_name+" - "+e.event.session_name:"Feedback",back:"true"},scopedSlots:e._u([{key:"content",fn:function(){return[e.loading?i("div",[i("Loader",{attrs:{loading:e.loading}})],1):e._e(),e.event&&!e.feedbackSubmitted&&e.intro?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{id:"intro-view"}},[i("div",{staticClass:"description",domProps:{innerHTML:e._s(e.event.description)}}),i("div",{staticClass:"proceed"},[i("button",{on:{click:e.skipIntro}},[e._v("Take Survey")])])]):e._e(),!e.event||e.feedbackSubmitted||e.intro?e._e():i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{id:"question-view"}},[i("h3",[e._v(e._s(e.event.event_name)+" - "+e._s(e.event.session_name)),i("span",[i("router-link",{staticStyle:{"font-size":"0.85rem","text-decoration":"underline",color:"#00a499","margin-left":"5px"},attrs:{to:{name:"event-details",params:{sessionId:e.sessionId}}}},[e._v("(info)")])],1)]),i("h2",[e._v(e._s(e.question))]),i("div",{attrs:{id:"answer-buttons"}},[i("div",{staticClass:"likert-container"},[i("div",{staticClass:"likert-10"},e._l(10,(function(t){return i("div",{staticClass:"likert-row",class:{selected:t==e.selectedFeedback},on:{click:function(i){return e.sendFeedback(t)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedFeedback,expression:"selectedFeedback"}],attrs:{type:"radio",id:"radio-"+t,name:"likert"},domProps:{value:t,checked:e._q(e.selectedFeedback,t)},on:{change:function(i){e.selectedFeedback=t}}}),i("label",{attrs:{for:"radio-"+t}},[e._v(e._s(t)),1==t?i("span",[e._v(" - Worst")]):e._e(),10==t?i("span",[e._v(" - Best")]):e._e()])])})),0)])]),i("div",{staticClass:"submit"},[i("button",{class:e.selectedFeedback?"":"disabled",on:{click:e.submitFeedback}},[e._v("Submit Feedback")])])]),e.event&&e.event.followup_enabled&&e.feedbackSubmitted&&!e.intro?i("div",{attrs:{id:"follow-up"}},[i("h3",[e._v(e._s(e.event.event_name)+" - "+e._s(e.event.session_name))]),i("div",{staticClass:"description",staticStyle:{"text-align":"left","font-size":"1.5rem"},domProps:{innerHTML:e._s(e.event.followup_label)}}),i("div",{attrs:{id:"followup-options"}},[e.extraFields.text?i("div",{attrs:{id:"text"},on:{click:e.routeToText}},[i("font-awesome-icon",{attrs:{icon:"edit"}}),i("a",[e._v("Text Feedback")])],1):e._e(),e.extraFields.audio?i("div",{attrs:{id:"audio"},on:{click:e.routeToAudio}},[i("font-awesome-icon",{attrs:{icon:"microphone-alt"}}),i("a",[e._v("Audio Feedback")])],1):e._e(),e.isIOS()&&e.extraFields.video?i("div",{attrs:{id:"video-picker"}},[i("input",{ref:"file",attrs:{type:"file",accept:"video/*",capture:"user"},on:{change:e.videoChanged}})]):e._e(),e.extraFields.video?i("div",{attrs:{id:"video"},on:{click:e.routeToVideo}},[i("font-awesome-icon",{attrs:{icon:"video"}}),i("a",[e._v("Video Feedback")])],1):e._e()]),i("div",{attrs:{id:"none"},on:{click:e.skip}},[i("a",[e._v("Skip")])])]):e._e(),e.event&&!e.event.followup_enabled&&e.feedbackSubmitted&&!e.intro?i("div",{attrs:{id:"thank-you"}},[i("h2",{staticStyle:{margin:"5px"}},[e._v("Thank you!")]),i("div",{attrs:{id:"thanks-text"},domProps:{innerHTML:e._s(e.event.thanks_text)}}),i("thanks",{attrs:{sessionId:e.sessionId}})],1):e._e()]},proxy:!0}])})},Fe=[],Ee=(i("a4d3"),i("e01a"),i("6700"),{name:"Feedback",props:["sessionId"],components:{Thanks:me,Loader:Y,PlainTemplate:we},methods:{skipIntro:function(){this.intro=!1},skip:function(){this.event.followup_enabled=!1},isIOS:function(){return!!/webOS|iPhone|iPad|iPod/i.test(navigator.userAgent)},routeToText:function(){this.$router.replace({name:"text-feedback",params:{sessionId:this.sessionId,feedbackId:this.feedbackId}})},routeToAudio:function(){this.$router.replace({name:"audio-feedback",params:{sessionId:this.sessionId,feedbackId:this.feedbackId}})},routeToVideo:function(){this.isIOS()?this.startVideoPicker():this.$router.replace({name:"media-feedback",params:{sessionId:this.sessionId,feedbackId:this.feedbackId}})},startVideoPicker:function(){this.videoPicker=!0,this.$refs.file.click()},videoChanged:function(){if(!(this.$refs.file.files.length<=0)){var e=this.$refs.file.files[0];this.$router.replace({name:"media-feedback",params:{sessionId:this.sessionId,feedbackId:this.feedbackId,videoFile:e}})}},sendFeedback:function(e){this.selectedFeedback=e},submitFeedback:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.selectedFeedback){e.next=2;break}return e.abrupt("return");case 2:return t=this.selectedFeedback,this.loading=!0,e.next=6,m.submitFeedback({userId:this.$store.state.currentUser.userId,sessionId:this.sessionId,eventId:this.event.event_id,rating:t});case 6:i=e.sent,this.loading=!1,this.feedbackId=i.feedbackId,this.feedbackSubmitted=!0;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},data:function(){return{question:"How was today's session?",event:null,error:!1,feedbackSubmitted:!1,feedbackId:null,ratings:null,datacollection:{},people:0,selectedFeedback:null,loading:!1,videoPicker:!1,extraFields:{},intro:!0}},mounted:function(){var e=this;this.loading=!0,m.getSessionEvent(this.sessionId).then((function(t){e.loading=!1,t&&0!==t.length?(e.event=t[0],e.event.description||(e.intro=!1),e.question=e.event.question,e.extraFields=JSON.parse(e.event.extra_fields||"{}"),e.event.followup_enabled?e.event.extra_fields&&"{}"!==e.event.extra_fields?(e.extraFields.video=e.editedEvent.extraFields.video,e.extraFields.audio=e.editedEvent.extraFields.audio,e.extraFields.text=e.editedEvent.extraFields.text):(e.extraFields.video=!0,e.extraFields.audio=!0,e.extraFields.text=!0):(e.extraFields.video=!1,e.extraFields.audio=!1,e.extraFields.text=!1)):(e.error=!0,e.$router.replace({name:"home"}))})),document.addEventListener("deviceready",Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.ready=!0;case 1:case"end":return t.stop()}}),t)}))),!1)}}),Te=Ee,Re=(i("4ca0"),Object(w["a"])(Te,Ce,Fe,!1,null,"ea18959c",null)),Ae=Re.exports,De=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("CloudTemplate",{attrs:{back:"true",title:"Feedback History"},scopedSlots:e._u([{key:"content",fn:function(){return[i("div",[e.loading?i("div",{attrs:{id:"events-view"}},[i("Loader",{attrs:{loading:e.loading}})],1):e._e(),e.feedback?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{id:"events-view"}},e._l(e.feedback,(function(t){return i("div",{staticClass:"event",on:{click:function(i){return e.viewFeedback(t.feedback_id)}}},[i("div",{staticClass:"event-data"},[i("div",{staticClass:"ev-name"},[e._v(e._s(t.event_name)+" - "+e._s(t.session_name))]),i("div",{staticClass:"ev-status"},[i("span",{staticStyle:{"font-weight":"bold"}},[e._v("Status:")]),i("span",[e._v(" "+e._s(["finished","ongoing","under analysis"][t.session_status]))])]),i("div",{staticClass:"ev-date"},[e._v(e._s(e._f("moment")(t.date_created,"M/D/YYYY, hh:mma")))])]),i("div",{staticClass:"event-icons"},[t.rating?i("div",{staticClass:"ev-rating",style:{"background-color":e.ratingColor},attrs:{alt:t.rating-1}},[e._v(e._s(t.rating))]):e._e(),2==t.extra_feedback_type?i("div",{staticClass:"ev-media"},[i("font-awesome-icon",{attrs:{icon:"microphone-alt"}})],1):e._e(),3==t.extra_feedback_type?i("div",{staticClass:"ev-media"},[i("font-awesome-icon",{attrs:{icon:"video"}})],1):e._e(),4==t.extra_feedback_type?i("div",{staticClass:"ev-media"},[i("font-awesome-icon",{attrs:{icon:"edit"}})],1):e._e()])])})),0):e._e()])]},proxy:!0}])})},Pe=[],Ue=i("05a5"),Ie=i.n(Ue),Le=i("ec31"),je=i.n(Le),Oe=i("4161"),Me=i.n(Oe),Ne=i("e048"),$e=i.n(Ne),qe={name:"FeedbackHistory",components:{Loader:Y,CloudTemplate:G},methods:{viewFeedback:function(e){this.$router.push({name:"feedback",params:{feedbackId:e}})},goBack:function(){this.$router.go(-1)}},data:function(){return{feedback:null,error:!1,rating:[Ie.a,je.a,Me.a,$e.a],ratingImg:[Ie.a,je.a,Me.a,$e.a],ratingColor:"#8BC34A",loading:!1}},mounted:function(){var e=this;this.loading=!0,m.getFeedbackHistory().then((function(t){e.loading=!1,t&&0!==t.length?e.feedback=t:e.error=!0})),document.addEventListener("deviceready",Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.ready=!0;case 1:case"end":return t.stop()}}),t)}))),!1)}},Ye=qe,Be=(i("2c30"),Object(w["a"])(Ye,De,Pe,!1,null,"2721e247",null)),He=Be.exports,We=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"main"}},[i("div",{attrs:{id:"header-container"}},[i("Header")],1),e.isIOS()||e.videoFile||e.isDesktopSafari()?e._e():i("div",{directives:[{name:"show",rawName:"v-show",value:!e.recorded,expression:"!recorded"}],attrs:{id:"recording"}},[e.recorded?e._e():i("video",{staticStyle:{"pointer-events":"none"},attrs:{id:"record",autoplay:"",playsinline:"",muted:""},domProps:{muted:!0}}),i("device",{attrs:{type:"media",onchange:"update(this.data)"}}),i("div",{attrs:{id:"video-controls"}},[i("div",{attrs:{id:"vc-container"}},[i("div",{staticClass:"vc"},[i("button",{directives:[{name:"show",rawName:"v-show",value:e.stopped,expression:"stopped"}],attrs:{id:"skip"},on:{click:e.skip}},[e._v("Skip")])]),i("div",{staticClass:"vc"},[i("div",{attrs:{id:"recording-btn-container"}},[i("button",{class:{recording:!e.stopped},attrs:{id:"recording-btn",disabled:e.shouldStop&&!e.stopped},on:{click:e.recordButtonAction}},[e.stopped?i("font-awesome-icon",{attrs:{icon:"video"}}):e._e(),e.stopped?e._e():i("font-awesome-icon",{attrs:{icon:"stop"}})],1)])]),i("div",{staticClass:"vc"},[i("button",{directives:[{name:"show",rawName:"v-show",value:e.stopped,expression:"stopped"}],attrs:{id:"flip-camera"},on:{click:e.flipCamera}},[i("font-awesome-icon",{attrs:{icon:"sync"}})],1)])])])],1),!e.videoFile&&!e.isIOS()||e.isDesktopSafari()?e._e():i("div",{directives:[{name:"show",rawName:"v-show",value:!e.recorded,expression:"!recorded"}],attrs:{id:"recording"}},[i("div",{attrs:{id:"video-picker"}},[i("input",{ref:"videoFile",attrs:{type:"file",accept:"video/*",capture:"user"},on:{change:e.videoChanged}})]),i("video",{directives:[{name:"show",rawName:"v-show",value:e.currentUrl,expression:"currentUrl"}],attrs:{id:"playback",autoplay:"",controls:"",src:e.currentUrl}}),i("div",{attrs:{id:"playback-controls"}},[e.loading?e._e():i("div",{attrs:{id:"consent-container"}},[i("label",{attrs:{for:"consent"}},[i("input",{ref:"consent",attrs:{name:"consent",id:"consent",type:"checkbox"},on:{change:e.consentChanged}}),e._m(0)]),i("div",{staticClass:"toggle-row"},[i("div",[e._v("Could this feedback be shared publicly and used for research purposes?")]),i("div",{staticClass:"toggle-element"},[i("div",{staticClass:"answer public",class:{selected:!e.public},attrs:{id:"no"}},[e._v("No")]),i("label",{staticClass:"switch",attrs:{for:"public"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.public,expression:"public"}],ref:"public",attrs:{name:"public",id:"public",type:"checkbox"},domProps:{checked:Array.isArray(e.public)?e._i(e.public,null)>-1:e.public},on:{change:function(t){var i=e.public,a=t.target,s=!!a.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);a.checked?o<0&&(e.public=i.concat([n])):o>-1&&(e.public=i.slice(0,o).concat(i.slice(o+1)))}else e.public=s}}}),i("span",{staticClass:"slider"})]),i("div",{staticClass:"answer public",class:{selected:e.public},attrs:{id:"yes"}},[e._v("Yes")])])])]),e.loading?i("div",[i("Loader",{attrs:{loading:e.loading}})],1):e._e(),e.loading?e._e():i("div",{attrs:{id:"pb-container"}},[i("button",{attrs:{id:"upload",disabled:!e.currentFile||!e.consented},on:{click:e.uploadVideo}},[e._v("Submit Feedback")]),i("button",{attrs:{id:"restart"},on:{click:function(t){return e.$refs.videoFile.click()}}},[e._v("Record Again")])]),e.loading?e._e():i("div",{attrs:{id:"none"},on:{click:e.skip}},[i("a",[e._v("Skip")])])])]),!e.recorded||e.isDesktopSafari()||e.isIOS()||e.videoFile?e._e():i("div",{attrs:{id:"recorded"}},[i("video",{attrs:{id:"playback",autoplay:"",controls:"",src:e.currentUrl}}),i("div",{attrs:{id:"playback-controls"}},[e.loading?e._e():i("div",{attrs:{id:"consent-container"}},[i("label",{attrs:{for:"consent"}},[i("input",{ref:"consent",attrs:{name:"consent",id:"consent",type:"checkbox"},on:{change:e.consentChanged}}),e._m(1)]),i("div",{staticClass:"toggle-row"},[i("div",[e._v("Could this feedback be shared publicly and used for research purposes?")]),i("div",{staticClass:"toggle-element"},[i("div",{staticClass:"answer public",class:{selected:!e.public},attrs:{id:"no"}},[e._v("No")]),i("label",{staticClass:"switch",attrs:{for:"public"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.public,expression:"public"}],ref:"public",attrs:{name:"public",id:"public",type:"checkbox"},domProps:{checked:Array.isArray(e.public)?e._i(e.public,null)>-1:e.public},on:{change:function(t){var i=e.public,a=t.target,s=!!a.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);a.checked?o<0&&(e.public=i.concat([n])):o>-1&&(e.public=i.slice(0,o).concat(i.slice(o+1)))}else e.public=s}}}),i("span",{staticClass:"slider"})]),i("div",{staticClass:"answer public",class:{selected:e.public},attrs:{id:"yes"}},[e._v("Yes")])])])]),e.loading?i("div",[i("Loader",{attrs:{loading:e.loading}})],1):e._e(),e.loading?e._e():i("div",{attrs:{id:"pb-container"}},[i("button",{attrs:{id:"upload",disabled:!e.currentFile||!e.consented},on:{click:e.uploadVideo}},[e._v("Submit Feedback")]),i("button",{attrs:{id:"restart"},on:{click:e.restart}},[e._v("Record Again")])]),e.loading?e._e():i("div",{attrs:{id:"none"},on:{click:e.skip}},[i("a",[e._v("Skip")])])])]),e.isDesktopSafari()?i("div",{attrs:{id:"error"}},[i("p",[e._v("Sorry, this browser does not support recording video")]),e.loading?e._e():i("div",{attrs:{id:"none"},on:{click:e.skip}},[i("a",[e._v("Skip")])])]):e._e()])},ze=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._v("I have read and agreed to the"),i("a",{attrs:{href:"/#/privacy",target:"_blank"}},[e._v(" Privacy Policy")]),e._v(" and"),i("a",{attrs:{href:"/#/terms",target:"_blank"}},[e._v(" Terms of Use")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._v("I have read and agreed to the"),i("a",{attrs:{href:"/#/privacy",target:"_blank"}},[e._v(" Privacy Policy")]),e._v(" and"),i("a",{attrs:{href:"/#/terms",target:"_blank"}},[e._v(" Terms of Use")])])}],Ve=(i("3ca3"),i("ddb0"),i("2b3d"),i("a9ee")),Ge=i.n(Ve),Qe={name:"MediaFeedback",props:["feedbackId","sessionId","videoFile"],components:{Loader:Y,Header:R},methods:{isDesktopSafari:function(){var e=navigator.userAgent,t=navigator.vendor;return!!(this.desktopSafari||/Safari/i.test(e)&&/Apple Computer/.test(t)&&!/Mobi|Android/i.test(e))},videoChanged:function(){if(!(this.$refs.videoFile.files.length<=0)){var e=this.currentUrl;URL.revokeObjectURL(e),this.currentUrl=URL.createObjectURL(this.$refs.videoFile.files[0]),this.currentFile=this.$refs.videoFile.files[0],document.querySelector("video#playback").src=this.currentUrl}},onRecordingStopped:function(){this.stopped=!0,this.currentFile=this.blobToFile(this.mediaRecorder.getBlob(),"webm");var e=window.stream.getTracks();e.forEach((function(e){e.stop()})),document.querySelector("#record").srcObject=null,this.recorded=!0,this.currentUrl=URL.createObjectURL(this.mediaRecorder.getBlob(),"webm"),document.querySelector("video#playback").src=this.currentUrl},isIOS:function(){return!!/webOS|iPhone|iPad|iPod/i.test(navigator.userAgent)},consentChanged:function(){this.consented=this.$refs.consent.checked},update:function(e){document.querySelector("video").src=window.stream.url},skip:function(){this.$router.replace({name:"thankyou",params:{sessionId:this.sessionId}})},getSignedRequest:function(e,t){var i=this;u.a.get("".concat(this.$store.getters.instanceApi,"/sign-s3?file-name=v2/").concat(encodeURIComponent(e.filename||e.name),"&file-type=").concat(encodeURIComponent(e.type))).then((function(a){i.uploadFile(e,a.data.signedRequest,a.data.url,t),i.uploadUrl=a.data.url}))},uploadFile:function(e,t,i,a){var s=this,n={headers:{"Content-Type":e.type}};u.a.put(t,e,n).then((function(e){return s.sendAnswer(),e.data})).catch((function(e){return{error:!0,errorMessage:e.response}}))},uploadVideo:function(){this.getSignedRequest(this.currentFile)},restart:function(){document.querySelector("video#playback").src=null,this.currentFile=null,this.currentBlob=null,this.recorded=!1,this.currentUrl=null,this.initVideoRecorder()},onDeviceReady:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:document.addEventListener("backbutton",this.onBackKeyDown,!1),this.ready=!0,this.isIOS()||this.isDesktopSafari()||this.initVideoRecorder();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),sendAnswer:function(e){var t=this;this.loading=!0,m.submitMediaFeedback({feedbackId:this.feedbackId,type:3,location:this.uploadUrl,consent_public:this.$refs.public.checked}).then((function(e){t.loading=!1,t.$router.replace({name:"thankyou",params:{sessionId:t.sessionId}})}))},initVideoRecorder:function(){this.videoElement=document.querySelector("#record"),navigator.mediaDevices.enumerateDevices().then(this.gotDevices).then(this.getStream).catch(this.handleError)},gotDevices:function(e){for(var t=0;t!==e.length;++t){var i=e[t],a=document.createElement("option");a.value=i.deviceId}},getStream:function(){window.stream&&window.stream.getTracks().forEach((function(e){e.stop()}));var e={audio:!0,video:{facingMode:this.facingModeUser?"user":"environment",width:{ideal:640}}};navigator.mediaDevices.getUserMedia(e).then(this.gotStream).catch(this.handleError)},gotStream:function(e){window.stream=e;var t={type:"video"};this.recordedChunks=[];try{this.mediaRecorder=new Ge.a(e,t),this.mediaRecorder.ondataavailable=function(e){},this.mediaRecorder.onstop=function(){this.stopped=!0,this.currentFile=this.blobToFile(new Blob(this.recordedChunks,{name:"".concat(Date.now(),"-video.webm"),type:"video/webm"}),"webm");var e=window.stream.getTracks();e.forEach((function(e){e.stop()})),document.querySelector("#record").srcObject=null,this.recorded=!0,this.currentUrl=URL.createObjectURL(new Blob(this.recordedChunks,{name:"".concat(Date.now(),"-video.webm"),type:"video/webm"}),"webm"),document.querySelector("video#playback").src=this.currentUrl},window.mediaRecorder=this.mediaRecorder,window.recordedChunks=this.recordedChunks;var i=new MediaStream(e.getVideoTracks());document.querySelector("#record").srcObject=i}catch(a){this.desktopSafari=!0}},writeFile:function(e,t){var i=this;e.createWriter((function(a){a.onwriteend=function(){i.currentBlob=e.nativeURL,i.readFile(e)},a.onerror=function(e){},t||(t=new Blob(["some file data"],{type:"text/plain"})),a.write(t)}))},getFileSystem:function(e){var t=this;window.requestFileSystem(window.TEMPORARY,5242880,(function(i){var a,s;return s=e.filename,a=i.root,a.getFile(s,{create:!0,exclusive:!1},(function(i){return t.writeFile(i,e)}),(function(e){return console.log(e)}))}),(function(e){return console.log(e)}))},readFile:function(e){var t=this;e.file((function(e){var i=new FileReader,a=t.getSignedRequest;i.onloadend=function(){a(e,this.result)},i.readAsText(e)}),(function(e){return console.log(e)}))},handleError:function(e){console.error("Error: ",e)},recordButtonAction:function(){try{if(!this.mediaRecorder)return;this.stopped?(this.stopped=!1,this.shouldStop=!1,this.recordedChunks=[],this.currentFile=null,this.currentBlob=null,this.mediaRecorder.startRecording()):(this.shouldStop=!0,this.mediaRecorder.stopRecording(this.onRecordingStopped))}catch(e){this.desktopSafari=!0}},flipCamera:function(){this.mediaRecorder&&this.stopped&&(this.recordedChunks=[],this.currentFile=null,this.currentBlob=null,this.recorded=!1,this.currentUrl=null,this.facingModeUser=!this.facingModeUser,this.initVideoRecorder())},blobToFile:function(e,t){return e.filename=Date.now()+"."+t,e.lastModifiedDate=Date.now(),e},onBackKeyDown:function(){this.$router.go(-1)},leaving:function(){window.stream&&window.stream.getTracks().forEach((function(e){e.stop()}))}},beforeRouteLeave:function(e,t,i){this.leaving(),i()},watch:{videoFile:{handler:function(e,t){this.currentFile=e,this.currentUrl=URL.createObjectURL(this.currentFile)},deep:!0}},data:function(){return{question:"How was today's session?",videoElement:null,shouldStop:!0,stopped:!0,mediaRecorder:null,recordedChunks:[],storageLocation:"",currentFile:this.videoFile,currentBlob:null,recorded:!1,currentUrl:null,uploadUrl:null,facingModeUser:!0,loading:!1,consented:!1,desktopSafari:!1,public:!1}},mounted:function(){window.addEventListener("beforeunload",this.leaving),this.onDeviceReady(),this.currentFile&&(this.currentUrl=URL.createObjectURL(this.currentFile))}},Je=Qe,Ke=(i("4013"),i("0186"),Object(w["a"])(Je,We,ze,!1,null,"4cb2b017",null)),Xe=Ke.exports,Ze=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"main"}},[i("div",{attrs:{id:"header-container"}},[i("Header")],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.recorded,expression:"!recorded"}],attrs:{id:"recording"}},[i("div",{attrs:{id:"microphone-icon"}},[i("font-awesome-icon",{attrs:{icon:"microphone-alt"}}),i("audio",{directives:[{name:"show",rawName:"v-show",value:!e.stopped,expression:"!stopped"}],ref:"broadcast",attrs:{id:"broadcast",muted:"",controls:""}})],1),i("div",{attrs:{id:"video-controls"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[i("select",{attrs:{id:"audioSource"}})]),i("div",{attrs:{id:"vc-container"}},[i("div",{staticClass:"vc"},[i("button",{directives:[{name:"show",rawName:"v-show",value:e.stopped,expression:"stopped"}],attrs:{id:"skip"},on:{click:e.skip}},[e._v("Skip")])]),i("div",{staticClass:"vc"},[i("div",{attrs:{id:"recording-btn-container"}},[i("button",{class:{recording:!e.stopped},attrs:{id:"recording-btn",disabled:e.shouldStop&&!e.stopped},on:{click:e.recordButtonAction}},[e.stopped?i("font-awesome-icon",{attrs:{icon:"circle"}}):e._e(),e.stopped?e._e():i("font-awesome-icon",{attrs:{icon:"stop"}})],1)])]),i("div",{staticClass:"vc",staticStyle:{width:"60px"}})])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.recorded,expression:"recorded"}],attrs:{id:"recorded"}},[i("audio",{attrs:{id:"playback",autoplay:"",controls:"",src:e.currentUrl}}),i("div",{attrs:{id:"playback-controls"}},[e.loading?e._e():i("div",{attrs:{id:"consent-container"}},[i("label",{attrs:{for:"consent"}},[i("input",{ref:"consent",attrs:{name:"consent",id:"consent",type:"checkbox"},on:{change:e.consentChanged}}),e._m(0)]),i("div",{staticClass:"toggle-row"},[i("div",[e._v("Could this feedback be shared publicly and used for research purposes?")]),i("div",{staticClass:"toggle-element"},[i("div",{staticClass:"answer public",class:{selected:!e.public},attrs:{id:"no"}},[e._v("No")]),i("label",{staticClass:"switch",attrs:{for:"public"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.public,expression:"public"}],ref:"public",attrs:{name:"public",id:"public",type:"checkbox"},domProps:{checked:Array.isArray(e.public)?e._i(e.public,null)>-1:e.public},on:{change:function(t){var i=e.public,a=t.target,s=!!a.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);a.checked?o<0&&(e.public=i.concat([n])):o>-1&&(e.public=i.slice(0,o).concat(i.slice(o+1)))}else e.public=s}}}),i("span",{staticClass:"slider"})]),i("div",{staticClass:"answer public",class:{selected:e.public},attrs:{id:"yes"}},[e._v("Yes")])])])]),e.loading?e._e():i("div",{attrs:{id:"pb-container"}},[i("button",{attrs:{id:"upload",disabled:!e.currentFile||!e.consented},on:{click:e.uploadVideo}},[e._v("Submit Feedback")]),i("button",{attrs:{id:"restart"},on:{click:e.restart}},[e._v("Record Again")])]),e.loading?e._e():i("div",{attrs:{id:"none"},on:{click:e.skip}},[i("a",[e._v("Skip")])]),e.loading?i("div",[i("Loader",{attrs:{loading:e.loading}})],1):e._e()])])])},et=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._v("I have read and agreed to the"),i("a",{attrs:{href:"/#/privacy",target:"_blank"}},[e._v(" Privacy Policy")]),e._v(" and"),i("a",{attrs:{href:"/#/terms",target:"_blank"}},[e._v(" Terms of Use")])])}],tt=i("43f0"),it={name:"AudioFeedback",props:["feedbackId","sessionId"],components:{Loader:Y,Header:R},methods:{consentChanged:function(){this.consented=this.$refs.consent.checked},getAudioType:function(){return"wav"},skip:function(){this.$router.replace({name:"thankyou",params:{sessionId:this.sessionId}})},getSignedRequest:function(e,t){var i=this;u.a.get("".concat(this.$store.getters.instanceApi,"/sign-s3?file-name=coronavoice/").concat(encodeURIComponent(e.filename),"&file-type=").concat(encodeURIComponent(e.type))).then((function(a){i.uploadFile(e,a.data.signedRequest,a.data.url,t),i.uploadUrl=a.data.url}))},uploadFile:function(e,t,i,a){var s=this,n={headers:{"Content-Type":e.type}};u.a.put(t,e,n).then((function(e){return s.sendAnswer(),e.data})).catch((function(e){return{error:!0,errorMessage:e.response}}))},uploadVideo:function(){var e=this.blobToFile(this.currentFile,"webm");this.getSignedRequest(e)},restart:function(){document.querySelector("audio#playback").src=null,this.currentFile=null,this.currentBlob=null,this.recorded=!1,this.currentUrl=null,this.initAudioRecorder()},onDeviceReady:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:document.addEventListener("backbutton",this.onBackKeyDown,!1),this.ready=!0,this.initAudioRecorder();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),sendAnswer:function(e){var t=this;this.loading=!0,m.submitMediaFeedback({feedbackId:this.feedbackId,type:2,location:this.uploadUrl,consent_public:this.$refs.public.checked}).then((function(e){t.loading=!1,t.$router.replace({name:"thankyou",params:{sessionId:t.sessionId}})}))},initAudioRecorder:function(){this.audioSelect=document.querySelector("select#audioSource"),navigator.mediaDevices.enumerateDevices().then(this.gotDevices).then(this.getStream).catch(this.handleError),this.audioSelect.onchange=this.getStream},gotDevices:function(e){for(var t=0;t!==e.length;++t){var i=e[t],a=document.createElement("option");a.value=i.deviceId,"audioinput"===i.kind&&(a.text=i.label||"microphone "+(this.audioSelect.length+1),this.audioSelect.appendChild(a))}},getStream:function(){window.stream&&window.stream.getTracks().forEach((function(e){e.stop()}));var e={audio:!0};navigator.mediaDevices.getUserMedia(e).then(this.gotStream).catch(this.handleError)},onRecordingStop:function(){this.stopped=!0,this.currentFile=new Blob(this.recordedChunks,{name:"".concat(Date.now(),"-audio.").concat(this.audioType),type:"audio/".concat(this.audioType)});var e=stream.getTracks();e.forEach((function(e){e.stop()})),this.recorded=!0,this.currentUrl=URL.createObjectURL(this.currentFile,this.audioType),document.querySelector("audio#playback").src=this.currentUrl},gotStream:function(e){var t=this;window.stream=e,this.audioType=this.getAudioType();var i={mimeType:"audio/".concat(this.audioType)};this.recordedChunks=[],this.mediaRecorder=new tt["a"](e,i),this.mediaRecorder.mimeType="audio/".concat(this.audioType),this.mediaRecorder.ondataavailable=function(e){e.size>0&&t.recordedChunks.push(e),!0===t.shouldStop&&!1===t.stopped&&"inactive"!==t.mediaRecorder.state&&(t.mediaRecorder.stop(),t.stopped=!0)},this.mediaRecorder.onstop=this.onRecordingStop,window.mediaRecorder=this.mediaRecorder,window.recordedChunks=this.recordedChunks},handleError:function(e){console.error("Error: ",e)},recordButtonAction:function(){if(this.mediaRecorder)if(this.stopped){this.stopped=!1,this.shouldStop=!1,this.recordedChunks=[],this.currentFile=null,this.currentBlob=null,this.mediaRecorder.start(6e5);var e=this.$refs.broadcast;e.muted=!0,e.srcObject=stream,e.play()}else this.shouldStop=!0,this.mediaRecorder.stop()},blobToFile:function(e,t){return e.filename=Date.now()+"."+t,e.lastModifiedDate=Date.now(),e},onBackKeyDown:function(){this.$router.go(-1)},leaving:function(){window.stream&&window.stream.getTracks().forEach((function(e){e.stop()}))}},beforeRouteLeave:function(e,t,i){this.leaving(),i()},data:function(){return{question:"How was today's session?",videoElement:null,audioSelect:null,videoSelect:null,shouldStop:!0,stopped:!0,mediaRecorder:null,recordedChunks:[],storageLocation:"",currentFile:null,currentBlob:null,recorded:!1,currentUrl:null,uploadUrl:null,loading:!1,audioType:"webm",consented:!1,public:!1}},mounted:function(){window.addEventListener("beforeunload",this.leaving),this.onDeviceReady()}},at=it,st=(i("e01e"),i("2cbe"),Object(w["a"])(at,Ze,et,!1,null,"da2ee81a",null)),nt=st.exports,ot=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("PlainTemplate",{attrs:{title:"Text"},scopedSlots:e._u([{key:"content",fn:function(){return[i("div",{attrs:{id:"playback-controls"}},[i("div",{attrs:{id:"text-field"}},[i("div",{staticStyle:{"font-size":"1.2rem","text-align":"left"},domProps:{innerHTML:e._s(e.question)}}),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.textFeedback,expression:"textFeedback"}],attrs:{placeholder:"Write your feedback..."},domProps:{value:e.textFeedback},on:{input:function(t){t.target.composing||(e.textFeedback=t.target.value)}}})]),i("div",{attrs:{id:"consent-container"}},[i("label",{attrs:{for:"consent"}},[i("input",{ref:"consent",attrs:{name:"consent",id:"consent",type:"checkbox"},on:{change:e.consentChanged}}),i("span",[e._v("I have read and agreed to the"),i("a",{attrs:{href:"/#/privacy",target:"_blank"}},[e._v(" Privacy Policy")]),e._v(" and"),i("a",{attrs:{href:"/#/terms",target:"_blank"}},[e._v(" Terms of Use")])])]),i("div",{staticClass:"toggle-row"},[i("div",[e._v("Could this feedback be shared publicly and used for research purposes?")]),i("div",{staticClass:"toggle-element"},[i("div",{staticClass:"answer public",class:{selected:!e.public},attrs:{id:"no"}},[e._v("No")]),i("label",{staticClass:"switch",attrs:{for:"public"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.public,expression:"public"}],ref:"public",attrs:{name:"public",id:"public",type:"checkbox"},domProps:{checked:Array.isArray(e.public)?e._i(e.public,null)>-1:e.public},on:{change:function(t){var i=e.public,a=t.target,s=!!a.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);a.checked?o<0&&(e.public=i.concat([n])):o>-1&&(e.public=i.slice(0,o).concat(i.slice(o+1)))}else e.public=s}}}),i("span",{staticClass:"slider"})]),i("div",{staticClass:"answer public",class:{selected:e.public},attrs:{id:"yes"}},[e._v("Yes")])])])]),e.loading?e._e():i("div",{attrs:{id:"pb-container"}},[i("button",{attrs:{id:"upload",disabled:!e.textFeedback||!e.textFeedback.trim()||!e.consented},on:{click:e.sendAnswer}},[e._v("Submit Feedback")])]),e.loading?e._e():i("div",{attrs:{id:"none"},on:{click:e.skip}},[i("a",[e._v("Skip")])]),e.loading?i("div",[i("Loader",{attrs:{loading:e.loading}})],1):e._e()])]},proxy:!0}])})},rt=[],dt=(i("498a"),{name:"TextFeedback",props:["feedbackId","sessionId"],components:{Loader:Y,Header:R,PlainTemplate:we},methods:{consentChanged:function(){this.consented=this.$refs.consent.checked},onDeviceReady:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:document.addEventListener("backbutton",this.onBackKeyDown,!1),this.ready=!0;case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),sendAnswer:function(){var e=this;this.loading=!0,m.submitMediaFeedback({feedbackId:this.feedbackId,type:4,consent_public:this.$refs.public.checked,text_feedback:this.textFeedback.trim()}).then((function(t){e.loading=!1,e.$router.replace({name:"thankyou",params:{sessionId:e.sessionId}})}))},onBackKeyDown:function(){this.$router.go(-1)},skip:function(){this.$router.replace({name:"thankyou",params:{sessionId:this.sessionId}})}},data:function(){return{question:"How was today's session?",videoElement:null,audioSelect:null,videoSelect:null,shouldStop:!0,stopped:!0,mediaRecorder:null,recordedChunks:[],storageLocation:"",currentFile:null,currentBlob:null,recorded:!1,currentUrl:null,uploadUrl:null,loading:!1,audioType:"webm",consented:!1,event:{},textFeedback:null,public:!1}},mounted:function(){var e=this;this.onDeviceReady(),this.loading=!0,m.getSessionEvent(this.sessionId).then((function(t){e.loading=!1,t&&0!==t.length?(e.event=t[0],e.question=e.event.followup_label):(e.error=!0,e.$router.replace({name:"home"}))})),document.addEventListener("deviceready",Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.ready=!0;case 1:case"end":return t.stop()}}),t)}))),!1)}}),lt=dt,ct=(i("92a1"),i("e551"),Object(w["a"])(lt,ot,rt,!1,null,"7e308116",null)),ut=ct.exports,ht=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("CloudTemplate",{attrs:{title:"Settings",back:"true"},scopedSlots:e._u([{key:"content",fn:function(){return[i("div",[e.loading?i("div",{attrs:{id:"answer-buttons"}},[i("Loader",{attrs:{loading:e.loading}})],1):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{id:"answer-buttons"}},[i("div",{attrs:{id:"events-view"}},[i("h3",[e._v("Settings")]),i("div",[i("a",{staticClass:"button",on:{click:e.join}},[e._v("Join")])]),i("div",[i("a",{attrs:{id:"signout"},on:{click:e.logout}},[e._v(e._s(e.$store.state.currentUser.isAnonymous?"Login using Email":"Logout"))])])])])])]},proxy:!0}])})},vt=[],mt={name:"UserSettings",components:{CloudTemplate:G,Loader:Y},data:function(){return{loading:!1}},methods:{logout:function(){var e=this;l.a.auth().signOut().then((function(){e.$router.replace({name:"email-login"})})).catch((function(e){console.log(e)}))},goBack:function(){this.$router.go(-1)},join:function(e){var t=this;e=window.prompt("Please enter join code"),e&&(this.loading=!0,m.getSessionId(e).then((function(e){t.loading=!1,e&&e.id?t.$router.push({name:"event",params:{sessionId:e.id}}):t.error=!0})))}}},pt=mt,ft=(i("9b90"),i("2435"),Object(w["a"])(pt,ht,vt,!1,null,"3cbc779e",null)),gt=ft.exports,bt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("CloudTemplate",{attrs:{title:"Surveys"},scopedSlots:e._u([{key:"content",fn:function(){return[i("div",[e.loading?i("div",{attrs:{id:"events-view"}},[i("Loader",{attrs:{loading:e.loading}})],1):e._e(),!e.loading&&e.events?i("div",{attrs:{id:"events-view"}},[i("h3",[e._v("Available Surveys")]),i("div",{staticClass:"row"},[i("div",{attrs:{id:"subtitle"}},[e._v("Select one of the surveys below to give your feedback")])]),e._l(e.events.availableEvents,(function(t){return i("div",{attrs:{id:"event"}},[i("router-link",{attrs:{id:"current",to:{name:"event",params:{sessionId:t.session_id}}}},[e._v(e._s(t.event_name)+" - "+e._s(t.session_name))])],1)})),i("h3",[e._v("Past Surveys")]),e._l(e.events.pastEvents,(function(t){return i("div",{attrs:{id:"event"}},[i("router-link",{attrs:{id:"past",to:{name:"event-details",params:{sessionId:t.session_id}}}},[e._v(e._s(t.event_name)+" - "+e._s(t.session_name))])],1)}))],2):e._e()])]},proxy:!0}])})},yt=[],wt={name:"EventList",methods:{},components:{Loader:Y,CloudTemplate:G},data:function(){return{events:null,error:!1,loading:!0}},mounted:function(){var e=this;m.getUserEvents(this.$store.state.currentUser.userId).then((function(t){e.loading=!1,t&&0!==t.length?e.events=t:e.error=!0})),document.addEventListener("deviceready",Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.ready=!0;case 1:case"end":return t.stop()}}),t)}))),!1)}},_t=wt,kt=(i("3d7a"),Object(w["a"])(_t,bt,yt,!1,null,"699c2350",null)),St=kt.exports,xt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("PlainTemplate",{attrs:{title:"Details",back:"true"},scopedSlots:e._u([{key:"content",fn:function(){return[e.loading?i("div",{attrs:{id:"event"}},[i("Loader",{attrs:{loading:e.loading}})],1):e._e(),e.feedback&&!e.loading?i("div",{attrs:{id:"event"}},[i("h3",{attrs:{id:"name"}},[e._v(e._s(e.feedback.event_name)+" - "+e._s(e.feedback.session_name))]),i("div",{attrs:{id:"question"}},[e._v(e._s(e.feedback.question))]),i("div",{attrs:{id:"status"}},[e._v("This survey"),i("span",{staticStyle:{"font-weight":"bold"}},[e._v(" "+e._s(["is finished","is currently ongoing","is under analysis"][e.feedback.session_status]))])]),i("div",{staticClass:"description",domProps:{innerHTML:e._s(e.feedback.description)}}),i("div",{attrs:{id:"feedback"}},[i("h4",[e._v("Your Feedback")]),i("div",{attrs:{id:"feedback-data"}},[i("div",{attrs:{id:"date"}},[e._v(e._s(e._f("moment")(e.feedback.date_created,"M/D/YYYY, hh:mma")))]),i("div",{style:{"background-color":e.ratingColor},attrs:{id:"rating"}},[e._v(e._s(e.feedback.rating))])]),2==e.feedback.extra_feedback_type?i("div",{attrs:{id:"feedback-media"}},[i("audio",{attrs:{id:"media",controls:"",controlsList:"nodownload"}},[i("source",{attrs:{src:e.feedback.file_location,type:"audio/webm"}})])]):e._e(),3==e.feedback.extra_feedback_type?i("div",{attrs:{id:"feedback-media"}},[i("video",{attrs:{id:"media",controls:""}},[i("source",{attrs:{src:e.feedback.file_location,type:"video/webm"}})])]):e._e(),4==e.feedback.extra_feedback_type?i("div",{attrs:{id:"feedback-media"}},[i("div",{staticClass:"text-feedback media"},[e._v(e._s(e.feedback.extra_data?JSON.parse(e.feedback.extra_data).text_feedback:""))])]):e._e()]),i("div",{attrs:{id:"chart"}},[i("h4",[e._v("Results")]),i("thanks",{attrs:{sessionId:e.feedback.session_id}})],1)]):e._e()]},proxy:!0}])})},Ct=[],Ft=(i("a9e3"),i("aff5"),{name:"FeedbackDetails",props:["feedbackId"],components:{Thanks:me,PlainTemplate:we,Loader:Y},data:function(){return{rating:["🙁","😐","🙂","😀"],ratingImg:[Ie.a,je.a,Me.a,$e.a],ratingColor:"#8BC34A",feedback:null,loading:!1}},methods:{calculateMediaDuration:function(e){return new Promise((function(t,i){e.onloadedmetadata=function(){e.currentTime=Number.MAX_SAFE_INTEGER,e.ontimeupdate=function(){e.ontimeupdate=function(){},e.currentTime=.1,e.currentTime=0,t(e.duration)}}}))}},mounted:function(){var e=this;this.loading=!0,m.getFeedbackItem(this.feedbackId).then((function(t){e.loading=!1,t&&0!==t.length?(e.feedback=t,e.$nextTick((function(){var t=document.querySelector("#media");t&&e.calculateMediaDuration(t).then((function(){}))}))):e.error=!0})),document.addEventListener("deviceready",Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.ready=!0;case 1:case"end":return t.stop()}}),t)}))),!1)}}),Et=Ft,Tt=(i("6745"),Object(w["a"])(Et,xt,Ct,!1,null,"543f7f5e",null)),Rt=Tt.exports,At=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("PlainTemplate",{attrs:{title:"Details",back:"true"},scopedSlots:e._u([{key:"content",fn:function(){return[e.loading?i("div",{attrs:{id:"event"}},[i("Loader",{attrs:{loading:e.loading}})],1):e._e(),!e.loading&&e.feedback?i("div",{attrs:{id:"event"}},[i("h3",{attrs:{id:"name"}},[e._v(e._s(e.feedback.event_name)+" - "+e._s(e.feedback.session_name))]),i("div",{attrs:{id:"question"}},[e._v(e._s(e.feedback.question))]),i("div",{attrs:{id:"status"}},[e._v("This survey"),i("span",{staticStyle:{"font-weight":"bold"}},[e._v(" "+e._s(["is finished","is currently ongoing","is under analysis"][e.feedback.session_status]))])]),i("div",{attrs:{id:"chart"}},[i("h4",[e._v("Results")]),i("thanks",{attrs:{sessionId:e.feedback.session_id}})],1)]):e._e()]},proxy:!0}])})},Dt=[],Pt={name:"EventDetails",props:["sessionId"],components:{Thanks:me,PlainTemplate:we,Loader:Y},data:function(){return{feedback:null,loading:!0}},methods:{calculateMediaDuration:function(e){return new Promise((function(t,i){e.onloadedmetadata=function(){e.currentTime=Number.MAX_SAFE_INTEGER,e.ontimeupdate=function(){e.ontimeupdate=function(){},e.currentTime=.1,e.currentTime=0,t(e.duration)}}}))}},mounted:function(){var e=this;this.ready=!0,this.loading=!0,m.getSessionEvent(this.sessionId).then((function(t){e.loading=!1,t&&0!==t.length?(e.feedback=t[0],e.$nextTick((function(){var t=document.querySelector("#media");t&&e.calculateMediaDuration(t).then((function(){}))}))):e.error=!0}))}},Ut=Pt,It=(i("638c"),Object(w["a"])(Ut,At,Dt,!1,null,"082760c5",null)),Lt=It.exports,jt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("router-view",{staticStyle:{margin:"0 auto"}})},Ot=[],Mt={name:"AdminHome",methods:{}},Nt=Mt,$t=Object(w["a"])(Nt,jt,Ot,!1,null,null,null),qt=$t.exports,Yt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("CloudTemplate",{attrs:{title:"Admin Panel",back:"true"},scopedSlots:e._u([{key:"content",fn:function(){return[i("div",[e.loading?i("div",{attrs:{id:"events-view"}},[i("Loader",{attrs:{loading:e.loading}})],1):e._e(),i("div",{attrs:{id:"events-view"}},[i("div",{staticClass:"heading"},[i("h3",[e._v("Surveys")]),i("div",{attrs:{id:"edit-event"}},[i("div",{attrs:{id:"edit"},on:{click:e.addEvent}},[e._v("Add Survey")])])]),e._l(e.events,(function(t){return!e.loading&&e.events?i("div",{attrs:{id:"event"}},[i("router-link",{attrs:{id:"current",to:{name:"admin-event-details",params:{eventId:t.event_id}}}},[e._v(e._s(t.name))])],1):e._e()}))],2)])]},proxy:!0}])})},Bt=[],Ht={name:"AdminEvents",methods:{addEvent:function(){this.$router.push({name:"admin-add-event"})}},components:{Loader:Y,CloudTemplate:G},data:function(){return{events:null,error:!1,loading:!0}},mounted:function(){var e=this;m.getAdminEvents().then((function(t){e.loading=!1,t&&0!==t.length?e.events=t:e.error=!0})),document.addEventListener("deviceready",Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.ready=!0;case 1:case"end":return t.stop()}}),t)}))),!1)}},Wt=Ht,zt=(i("be3f"),Object(w["a"])(Wt,Yt,Bt,!1,null,"739304a0",null)),Vt=zt.exports,Gt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("PlainTemplate",{attrs:{title:e.events[0].event_name+" - Survey Details",back:"true"},scopedSlots:e._u([{key:"tabs",fn:function(){return[i("div",{staticClass:"tab",class:{selected:1==e.selectedTab},on:{click:function(t){return e.selectTab(1)}}},[e._v("Feedback Results")]),i("div",{staticClass:"tab",class:{selected:2==e.selectedTab},on:{click:function(t){return e.selectTab(2)}}},[e._v("Feedback Media")]),i("div",{staticClass:"tab",class:{selected:3==e.selectedTab},on:{click:function(t){return e.selectTab(3)}}},[e._v("Settings")])]},proxy:!0},{key:"content",fn:function(){return[i("div",[e.loading?i("div",{attrs:{id:"event"}},[i("Loader",{attrs:{loading:e.loading}})],1):e._e(),e.events&&!e.loading?i("div",{attrs:{id:"event"}},[1==e.selectedTab?i("AdminCharts",{attrs:{eventId:e.eventId,events:e.events}}):e._e(),2==e.selectedTab?i("AdminMedia",{attrs:{eventId:e.eventId,events:e.events}}):e._e(),3==e.selectedTab?i("AdminSessions",{model:{value:e.events,callback:function(t){e.events=t},expression:"events"}}):e._e()],1):e._e()])]},proxy:!0}])})},Qt=[],Jt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"settings"}},[e.loading?i("div",{attrs:{id:"event"}},[i("Loader",{attrs:{loading:e.loading}})],1):e._e(),e.events?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&!e.editingSession,expression:"!loading && !editingSession"}],attrs:{id:"event-settings"}},[i("div",{staticClass:"heading"},[i("h3",[e._v(e._s(e.events[0].event_name))]),e.editing?e._e():i("div",{attrs:{id:"edit-event"}},[i("div",{attrs:{id:"edit"},on:{click:e.editEvent}},[e._v("Edit Survey")])]),e.editing?i("div",{attrs:{id:"edit-event"}},[i("div",{attrs:{id:"save"},on:{click:e.saveEvent}},[e._v("Save")]),i("div",{attrs:{id:"discard"},on:{click:e.discardEdits}},[e._v("Discard")])]):e._e()]),i("div",{attrs:{id:"date-created"}},[e._v("Date created: "+e._s(e._f("moment")(e.events[0].event_date_created,"M/D/YYYY, hh:mma")))]),i("div",{staticClass:"section",attrs:{id:"general-settings"}},[i("div",{staticClass:"row"},[i("label",[e._v("Survey Name")]),e.editing?e._e():i("div",{staticClass:"event-data"},[e._v(e._s(e.events[0].event_name)),e.events[0].event_name?e._e():i("span",{directives:[{name:"show",rawName:"v-show",value:!e.editing,expression:"!editing"}],staticClass:"no-data"},[e._v("Empty")])]),e.editing?i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.name,expression:"editedEvent.name"}],staticClass:"event-input",attrs:{type:"text",placeholder:"Survey Name",name:"name"},domProps:{value:e.editedEvent.name},on:{input:function(t){t.target.composing||e.$set(e.editedEvent,"name",t.target.value)}}}):e._e()]),i("div",{staticClass:"row"},[i("label",[e._v("Sruvey Status")]),e.editing?e._e():i("div",{staticClass:"event-data"},[e._v(e._s(e.status[e.events[0].event_status]))]),e.editing?i("select",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.status,expression:"editedEvent.status"}],staticClass:"event-input",attrs:{placeholder:"Survey Status",name:"status"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.editedEvent,"status",t.target.multiple?i:i[0])}}},e._l(e.status,(function(t,a){return i("option",{domProps:{value:a}},[e._v(e._s(t))])})),0):e._e()]),i("div",{staticClass:"row"},[i("label",[e._v("Survey Description")]),e.editing?e._e():i("div",{staticClass:"event-data quill-data",staticStyle:{"text-align":"center"},domProps:{innerHTML:e._s(e.events[0].description)}}),e.events[0].description?e._e():i("span",{directives:[{name:"show",rawName:"v-show",value:!e.editing,expression:"!editing"}],staticClass:"event-data no-data"},[e._v("Empty")]),e.editing?i("div",{staticClass:"quill"},[i("quill-editor",{ref:"descriptionQuillEditor",staticStyle:{height:"200px"},attrs:{options:Object.assign({},e.editorOptions,{placeholder:"Survey description"})},model:{value:e.editedEvent.description,callback:function(t){e.$set(e.editedEvent,"description",t)},expression:"editedEvent.description"}})],1):e._e()]),i("div",{staticClass:"section",staticStyle:{"margin-top":"50px"},attrs:{id:"feedback-settings"}},[i("h4",[e._v("Feedback")]),i("div",{staticClass:"row"},[i("label",[e._v("Main Question")]),e.editing?e._e():i("div",{staticClass:"event-data"},[e._v(e._s(e.events[0].question)),e.events[0].question?e._e():i("span",{directives:[{name:"show",rawName:"v-show",value:!e.editing,expression:"!editing"}],staticClass:"no-data"},[e._v("Empty")])]),e.editing?i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.question,expression:"editedEvent.question"}],staticClass:"event-input",attrs:{type:"text",placeholder:"Main Question",name:"main-question"},domProps:{value:e.editedEvent.question},on:{input:function(t){t.target.composing||e.$set(e.editedEvent,"question",t.target.value)}}}):e._e()]),i("div",{staticClass:"row"},[i("label",[e._v("How often can a user give feedback?")]),e.editing?e._e():i("div",{staticClass:"event-data"},[e._v(e._s(e.cooldownVals[e.events[0].cooldown]))]),e.editing?i("select",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.cooldownPeriod,expression:"editedEvent.cooldownPeriod"}],staticClass:"event-input",attrs:{placeholder:"Cooldown",name:"cooldown"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.editedEvent,"cooldownPeriod",t.target.multiple?i:i[0])}}},e._l(e.cooldownVals,(function(t,a){return i("option",{domProps:{value:a}},[e._v(e._s(t))])})),0):e._e()])]),i("div",{staticClass:"section",staticStyle:{"padding-bottom":"50px"},attrs:{id:"media-settings"}},[i("h4",[e._v("Follow Up Feedback")]),i("div",{staticClass:"row"},[i("label",[e._v("Follow Up Feedback")]),e.editing||e.events[0].followup_enabled?e._e():i("div",{staticClass:"event-data"},[e._v("Disabled")]),!e.editing&&e.events[0].followup_enabled&&JSON.parse(e.events[0].extra_fields||"{}").video?i("div",{staticClass:"event-data"},[e._v("Video")]):e._e(),!e.editing&&e.events[0].followup_enabled&&JSON.parse(e.events[0].extra_fields||"{}").audio?i("div",{staticClass:"event-data"},[e._v("Audio")]):e._e(),!e.editing&&e.events[0].followup_enabled&&JSON.parse(e.events[0].extra_fields||"{}").text?i("div",{staticClass:"event-data"},[e._v("Text")]):e._e(),e.editing?i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.extraFields.video,expression:"editedEvent.extraFields.video"}],staticClass:"event-input",attrs:{type:"checkbox",placeholder:"Follow-up",name:"followup-video"},domProps:{checked:Array.isArray(e.editedEvent.extraFields.video)?e._i(e.editedEvent.extraFields.video,null)>-1:e.editedEvent.extraFields.video},on:{change:function(t){var i=e.editedEvent.extraFields.video,a=t.target,s=!!a.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);a.checked?o<0&&e.$set(e.editedEvent.extraFields,"video",i.concat([n])):o>-1&&e.$set(e.editedEvent.extraFields,"video",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.editedEvent.extraFields,"video",s)}}}):e._e(),e.editing?i("label",{staticClass:"label-for",attrs:{for:"followup-video"}},[e._v("Video")]):e._e(),e.editing?i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.extraFields.audio,expression:"editedEvent.extraFields.audio"}],staticClass:"event-input",attrs:{type:"checkbox",placeholder:"Follow-up",name:"followup-audio"},domProps:{checked:Array.isArray(e.editedEvent.extraFields.audio)?e._i(e.editedEvent.extraFields.audio,null)>-1:e.editedEvent.extraFields.audio},on:{change:function(t){var i=e.editedEvent.extraFields.audio,a=t.target,s=!!a.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);a.checked?o<0&&e.$set(e.editedEvent.extraFields,"audio",i.concat([n])):o>-1&&e.$set(e.editedEvent.extraFields,"audio",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.editedEvent.extraFields,"audio",s)}}}):e._e(),e.editing?i("label",{staticClass:"label-for",attrs:{for:"followup-audio"}},[e._v("Audio")]):e._e(),e.editing?i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.extraFields.text,expression:"editedEvent.extraFields.text"}],staticClass:"event-input",attrs:{type:"checkbox",placeholder:"Follow-up",name:"followup-text"},domProps:{checked:Array.isArray(e.editedEvent.extraFields.text)?e._i(e.editedEvent.extraFields.text,null)>-1:e.editedEvent.extraFields.text},on:{change:function(t){var i=e.editedEvent.extraFields.text,a=t.target,s=!!a.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);a.checked?o<0&&e.$set(e.editedEvent.extraFields,"text",i.concat([n])):o>-1&&e.$set(e.editedEvent.extraFields,"text",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.editedEvent.extraFields,"text",s)}}}):e._e(),e.editing?i("label",{staticClass:"label-for",attrs:{for:"followup-text"}},[e._v("Text")]):e._e()]),i("div",{staticClass:"row"},[i("label",{directives:[{name:"show",rawName:"v-show",value:e.events[0].followup_enabled||e.editing,expression:"events[0].followup_enabled || editing"}],staticClass:"quill-data"},[e._v("Follow Up Question")]),e.editing?e._e():i("div",{directives:[{name:"show",rawName:"v-show",value:e.events[0].followup_enabled,expression:"events[0].followup_enabled"}],staticClass:"event-data",domProps:{innerHTML:e._s(e.events[0].followup_label)}},[e.events[0].followup_label?e._e():i("span",{directives:[{name:"show",rawName:"v-show",value:!e.editing,expression:"!editing"}],staticClass:"no-data"},[e._v("Empty")])]),i("div",{staticClass:"quill"},[e.editing?i("quill-editor",{ref:"followUpQuillEditor",staticStyle:{height:"200px"},attrs:{placeholder:"Follow-up Question",name:"description",disabled:!(e.editedEvent.extraFields.video||e.editedEvent.extraFields.audio||e.editedEvent.extraFields.text),options:Object.assign({},e.editorOptions,{placeholder:"Follow-up Question"})},model:{value:e.editedEvent.followupLabel,callback:function(t){e.$set(e.editedEvent,"followupLabel",t)},expression:"editedEvent.followupLabel"}}):e._e()],1)])]),i("div",{staticClass:"section",attrs:{id:"thankyou-settings"}},[i("h4",[e._v("Thank You Page")]),i("div",{staticClass:"row"},[i("label",[e._v("Display Results")]),e.editing?e._e():i("div",{staticClass:"event-data"},[e._v(e._s(e.events[0].show_results?"Enabled":"Disabled"))]),e.editing?i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.showResults,expression:"editedEvent.showResults"}],staticClass:"event-input",attrs:{type:"checkbox",placeholder:"Show Results",name:"show-results"},domProps:{checked:Array.isArray(e.editedEvent.showResults)?e._i(e.editedEvent.showResults,null)>-1:e.editedEvent.showResults},on:{change:function(t){var i=e.editedEvent.showResults,a=t.target,s=!!a.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);a.checked?o<0&&e.$set(e.editedEvent,"showResults",i.concat([n])):o>-1&&e.$set(e.editedEvent,"showResults",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.editedEvent,"showResults",s)}}}):e._e(),e.editing?i("label",{staticClass:"label-for",attrs:{for:"show-results"}},[e._v("Enabled")]):e._e()]),i("div",{staticClass:"row"},[i("label",[e._v("Thank You Message")]),e.editing?e._e():i("div",{staticClass:"event-data",domProps:{innerHTML:e._s(e.events[0].thanks_text)}}),e.events[0].thanks_text?e._e():i("span",{directives:[{name:"show",rawName:"v-show",value:!e.editing,expression:"!editing"}],staticClass:"event-data no-data"},[e._v("Empty")]),e.editing?i("div",{staticClass:"quill"},[i("quill-editor",{ref:"myQuillEditor",attrs:{options:Object.assign({},e.editorOptions,{placeholder:"Thank you message"})},model:{value:e.editedEvent.thanksText,callback:function(t){e.$set(e.editedEvent,"thanksText",t)},expression:"editedEvent.thanksText"}})],1):e._e()])]),e.editing?e._e():i("div",{attrs:{id:"edit-event"}},[i("div",{attrs:{id:"edit"},on:{click:e.editEvent}},[e._v("Edit Survey")])]),e.editing?i("div",{attrs:{id:"edit-event"}},[i("div",{attrs:{id:"save"},on:{click:e.saveEvent}},[e._v("Save")]),i("div",{attrs:{id:"discard"},on:{click:e.discardEdits}},[e._v("Discard")])]):e._e()])]):e._e(),e.editing?e._e():i("div",{attrs:{id:"session"}},[i("div",{staticClass:"heading"},[i("h3",[e._v("Sessions")]),e.editingSession?e._e():i("div",{attrs:{id:"edit-event"}},[i("div",{attrs:{id:"edit"},on:{click:e.addSession}},[e._v("Add a New Session")])]),e.editingSession?i("div",{attrs:{id:"edit-event"}},[i("div",{attrs:{id:"save"},on:{click:e.saveSession}},[e._v("Save")]),i("div",{attrs:{id:"discard"},on:{click:e.discardSessionEdits}},[e._v("Discard")])]):e._e()]),e.editingSession?i("div",{attrs:{id:"add-session"}},[i("div",{staticClass:"row"},[i("label",[e._v("Session Name")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedSession.name,expression:"editedSession.name"}],staticClass:"event-input",attrs:{type:"text",placeholder:"Session Name",name:"name"},domProps:{value:e.editedSession.name},on:{input:function(t){t.target.composing||e.$set(e.editedSession,"name",t.target.value)}}})]),i("div",{staticClass:"row"},[i("label",[e._v("Session Status")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.editedSession.status,expression:"editedSession.status"}],staticClass:"event-input",attrs:{placeholder:"Session Status",name:"status"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.editedSession,"status",t.target.multiple?i:i[0])}}},e._l(e.status,(function(t,a){return i("option",{domProps:{value:a}},[e._v(e._s(t))])})),0)]),i("div",{staticClass:"row"},[i("label",[e._v("Session Privacy")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedSession.privacy,expression:"editedSession.privacy"}],staticClass:"event-input",attrs:{type:"checkbox",placeholder:"Session Privacy",name:"privacy"},domProps:{checked:Array.isArray(e.editedSession.privacy)?e._i(e.editedSession.privacy,null)>-1:e.editedSession.privacy},on:{change:function(t){var i=e.editedSession.privacy,a=t.target,s=!!a.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);a.checked?o<0&&e.$set(e.editedSession,"privacy",i.concat([n])):o>-1&&e.$set(e.editedSession,"privacy",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.editedSession,"privacy",s)}}}),i("label",{staticClass:"label-for",attrs:{for:"show-results"}},[e._v("Make Public")])]),i("div",{staticClass:"row"},[e._m(0),i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedSession.metadata.location,expression:"editedSession.metadata.location"}],staticClass:"event-input",attrs:{type:"text",placeholder:"Location",name:"location"},domProps:{value:e.editedSession.metadata.location},on:{input:function(t){t.target.composing||e.$set(e.editedSession.metadata,"location",t.target.value)}}})])]):e._e(),e._l(e.events,(function(t,a){return e.events?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&!e.editingSession,expression:"!loading && !editingSession"}],staticClass:"event"},[i("div",{staticClass:"event-data"},[i("div",{staticClass:"ev-name"},[i("div",[e._v(e._s(t.session_name))]),i("a",{staticClass:"session-edit",on:{click:function(t){return e.editSession(a)}}},[i("font-awesome-icon",{attrs:{icon:"edit"}})],1)]),i("div",{staticClass:"ev-status"},[i("span",{staticStyle:{"font-weight":"bold"}},[e._v("Joincode:")]),i("span",[e._v(" "+e._s(t.join_code))])]),t.session_fb_link?i("div",{staticClass:"ev-status"},[i("span",{staticStyle:{"font-weight":"bold"}},[e._v("Share Link:")]),i("span",[i("a",{attrs:{href:t.session_fb_link,target:"_blank"}},[e._v(e._s(t.session_fb_link))])])]):e._e(),i("div",{staticClass:"ev-status"},[i("span",{staticStyle:{"font-weight":"bold"}},[e._v("Status:")]),i("span",[e._v(" "+e._s(["finished","ongoing","under analysis"][t.session_status]))])]),i("div",{staticClass:"ev-status"},[i("span",[i("router-link",{attrs:{to:{name:"public-data",params:{sessionId:t.session_id}}}},[e._v("Show Results")])],1)]),i("div",{staticClass:"ev-date"},[e._v(e._s(e._f("moment")(t.session_date_created,"M/D/YYYY, hh:mma")))])])]):e._e()}))],2)])},Kt=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",[e._v("Location"),i("span",{staticClass:"optional"},[e._v("(optional)")])])}],Xt=(i("a753"),i("14e1"),i("953d")),Zt={name:"admin-sessions",props:["value"],components:{Loader:Y,quillEditor:Xt["quillEditor"]},mounted:function(){this.events=this.value,this.events[0].followup_label&&""!==this.events[0].followup_label||(this.events[0].followup_label=this.events[0].question)},data:function(){return{editing:!1,status:["Finished","Ongoing","Under Analysis"],cooldownVals:["As many time as they want","Hourly","Daily","Weekly","Monthly","Only once"],editedEvent:{},events:[],loading:!1,editingSession:!1,editedSession:{sessionId:null,new:!0,name:null,status:1,privacy:!1,metadata:{}},editorOptions:{theme:"snow",modules:{toolbar:[[{size:["small",!1,"large"]}],["bold","italic"],["link"],["clean"],["image"],[{list:"ordered"},{list:"bullet"}]]}}}},methods:{addSession:function(){this.editingSession=!0,this.initSession()},initSession:function(){this.editedSession={sessionId:null,eventId:this.events[0].event_id,new:!0,name:null,status:1,privacy:!1,metadata:{}}},editSession:function(e){var t=this.events[e],i=t.session_metadata?JSON.parse(t.session_metadata):{};this.editingSession=!0,this.editedSession={sessionId:t.session_id,eventId:t.event_id,new:!1,name:t.session_name,status:t.session_status,privacy:t.privacy,metadata:i}},saveSession:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.editingSession=!1,e.loading=!0,!e.editedSession.new){t.next=7;break}return t.next=5,m.createSession(e.editedSession);case 5:t.next=9;break;case 7:return t.next=9,m.updateSession(e.editedSession);case 9:m.getAdminEventDetails(e.editedSession.eventId).then((function(t){e.loading=!1,t&&0!==t.length?(e.events=t,e.$emit("input",e.events)):e.error=!0}));case 10:case"end":return t.stop()}}),t)})))()},discardSessionEdits:function(){this.editingSession=!1,this.initSession()},initEvent:function(){this.editedEvent={eventId:this.events[0].event_id,name:this.events[0].event_name,question:this.events[0].question,followupEnabled:this.events[0].followup_enabled,followupLabel:this.events[0].followup_label,extraFields:this.events[0].extra_fields?JSON.parse(this.events[0].extra_fields):{},expiryDate:null,showFeedback:!1,showResults:this.events[0].show_results,status:this.events[0].event_status,cooldownPeriod:this.events[0].cooldown,description:this.events[0].description,thanksText:this.events[0].thanks_text}},editEvent:function(){this.initEvent(),this.editedEvent.followupEnabled?this.events[0].extra_fields&&"{}"!==this.events[0].extra_fields||(this.editedEvent.extraFields.video=!0,this.editedEvent.extraFields.audio=!0,this.editedEvent.extraFields.text=!0):(this.editedEvent.extraFields.video=!1,this.editedEvent.extraFields.audio=!1,this.editedEvent.extraFields.text=!1),this.editing=!0},saveEvent:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.editing=!1,e.loading=!0,e.editedEvent.extraFields.video||e.editedEvent.extraFields.audio||e.editedEvent.extraFields.text?e.editedEvent.followupEnabled=!0:e.editedEvent.followupEnabled=!1,e.editedEvent.extraFields=JSON.stringify(e.editedEvent.extraFields),t.next=6,m.updateEvent(e.editedEvent);case 6:t.sent,m.getAdminEventDetails(e.editedEvent.eventId).then((function(t){e.loading=!1,t&&0!==t.length?(e.events=t,e.$emit("input",e.events)):e.error=!0}));case 8:case"end":return t.stop()}}),t)})))()},discardEdits:function(){this.editing=!1,this.initEvent()}}},ei=Zt,ti=(i("bc0e"),Object(w["a"])(ei,Jt,Kt,!1,null,"5488710d",null)),ii=ti.exports,ai=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{attrs:{id:"event-info"}},[i("h3",{attrs:{id:"name"}},[e._v(e._s(e.events[0].event_name))]),i("div",{attrs:{id:"question"}},[e._v(e._s(e.events[0].question))]),i("span",{staticClass:"date-created"},[e._v(e._s(e._f("moment")(e.events[0].event_date_created,"M/D/YYYY, hh:mma")))])]),e.results?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticStyle:{"margin-top":"1.6rem"},attrs:{id:"filters"}},[i("div",{staticClass:"filter-row",attrs:{id:"session-filter"}},[i("div",{staticClass:"filter"},[i("label",[e._v("Show data for")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedSessionFilter,expression:"selectedSessionFilter"}],attrs:{id:"session-filter",name:"session"},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedSessionFilter=t.target.multiple?i:i[0]},function(t){return e.onSessionFilterChange(t)}]}},[i("option",{attrs:{value:"all"}},[e._v("All Sessions")]),e._l(e.sessionList,(function(t,a){return i("option",{domProps:{value:a}},[e._v(e._s(t))])}))],2)])]),i("div",{staticClass:"filter-row",attrs:{id:"time-period-filter"}},[i("div",{staticClass:"filter"},[i("button",{staticClass:"time-period",class:{selected:"today"==e.timePeriod},on:{click:function(t){return e.selectTimePeriod("today")}}},[e._v("Today")])]),i("div",{staticClass:"filter"},[i("button",{staticClass:"time-period",class:{selected:"thisWeek"==e.timePeriod},on:{click:function(t){return e.selectTimePeriod("thisWeek")}}},[e._v("This Week")])]),i("div",{staticClass:"filter"},[i("button",{staticClass:"time-period",class:{selected:"thisMonth"==e.timePeriod},on:{click:function(t){return e.selectTimePeriod("thisMonth")}}},[e._v("This Month")])]),i("div",{staticClass:"filter"},[i("button",{staticClass:"time-period",class:{selected:"allTime"==e.timePeriod},on:{click:function(t){return e.selectTimePeriod("allTime")}}},[e._v("All Time")])])])]):e._e(),i("div",{staticStyle:{"margin-top":"1.6rem"},attrs:{id:"session"}},[e.loading?i("div",[i("Loader",{attrs:{loading:e.loading}})],1):e._e(),e.results&&e.results.length>0?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"date-created"},[e._v("Showing data from "+e._s(e.fromDate)+" to "+e._s(e.toDate))]):e._e(),e.results&&0===e.results.length?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"date-created"},[e._v("No results for the time range between "+e._s(e.fromDate)+" and "+e._s(e.toDate))]):e._e(),e.results&&e.results.length>0?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[i("div",{staticClass:"number-containers"},[i("div",{staticClass:"number-container",attrs:{id:"response-count"}},[i("div",{staticClass:"title"},[e._v("Number of Responses")]),i("div",{staticClass:"value"},[e._v(e._s(e.count[0]))]),e.compareData?i("div",{staticClass:"compare"},[e._v(e._s(e.timePeriodDisplayData[e.timePeriod][1])+": "+e._s(e.count[1]))]):e._e()]),i("div",{staticClass:"number-container",attrs:{id:"average-rating"}},[i("div",{staticClass:"title"},[e._v("Average Rating")]),i("div",{staticClass:"value"},[e._v(e._s(e.averageRating[0].toFixed(2)))]),e.compareData?i("div",{staticClass:"compare"},[e._v(e._s(e.timePeriodDisplayData[e.timePeriod][1])+": "+e._s(e.averageRating[1].toFixed(2)))]):e._e()]),i("div",{staticClass:"number-container",attrs:{id:"returning-users"}},[i("div",{staticClass:"title"},[e._v("Returning Users")]),i("div",{staticClass:"value"},[e._v(e._s(e.returningUserRatio[0])+"%")]),e.compareData?i("div",{staticClass:"compare"},[e._v(e._s(e.timePeriodDisplayData[e.timePeriod][1])+": "+e._s(e.returningUserRatio[1])+"%")]):e._e()]),i("div",{staticClass:"number-container",attrs:{id:"comments-ratio"}},[i("div",{staticClass:"title"},[e._v("Comment Responses")]),i("div",{staticClass:"value"},[e._v(e._s(Math.round(100*e.commentRate[0]))+"%")]),e.compareData?i("div",{staticClass:"compare"},[e._v(e._s(e.timePeriodDisplayData[e.timePeriod][1])+": "+e._s(Math.round(100*e.commentRate[1]))+"%")]):e._e()])]),e.results&&e.results.length>0?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"chart-container"},[i("div",{staticClass:"chart-title"},[e._v("Overall Ratings")]),i("div",{staticStyle:{"min-width":"300px"},attrs:{id:"overall-ratings"}},[i("div",{staticStyle:{"min-width":"250px"}},[i("div",{staticStyle:{height:"400px","min-width":"47%"},attrs:{id:"donut"}},[e.results&&e.results.length>0?i("donut-chart",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{"chart-data":e.donutData,options:e.donutOptions,height:400}}):e._e()],1)]),i("div",{staticStyle:{"min-width":"250px"}},[i("div",{staticStyle:{height:"400px","min-width":"200px","min-height":"400px"},attrs:{id:"box-plot"}},[e.results&&e.results.length>0?i("box-plot-chart",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{"chart-data":e.datacollection,height:400,options:e.boxPlotOptions}}):e._e()],1)])])]):e._e(),e.results&&e.results.length>0?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"chart-container"},[i("div",{staticClass:"chart-title"},[e._v("Aggregated Data")]),i("div",{staticClass:"table-scroll"},[i("table",[i("thead",[i("tr",[i("th",{attrs:{colspan:""===e.timePeriodDisplayData[e.timePeriod][1]?"1":"2"}},[e._v("Rating")]),e._l(10,(function(t){return i("th",[e._v(e._s(t))])}))],2)]),i("tbody",[i("tr",[i("th",{staticClass:"title",attrs:{rowspan:""===e.timePeriodDisplayData[e.timePeriod][1]?"1":"2"}},[e._v("Distribution")]),""!==e.timePeriodDisplayData[e.timePeriod][1]?i("td",{staticClass:"title"},[e._v(e._s(e.timePeriodDisplayData[e.timePeriod][0]))]):e._e(),e._l(10,(function(t){return e.stats[e.stats.length-1].data[e.sessionList[e.selectedSessionFilter]||"All Data"]?i("td",[e._v(e._s(e.stats[e.stats.length-1].data[e.sessionList[e.selectedSessionFilter]||"All Data"].distribution[t]))]):e._e()}))],2),""!==e.timePeriodDisplayData[e.timePeriod][1]?i("tr",[""!==e.timePeriodDisplayData[e.timePeriod][1]?i("td",{staticClass:"title"},[e._v(e._s(e.timePeriodDisplayData[e.timePeriod][1]))]):e._e(),e._l(10,(function(t){return e.stats[0].data[e.sessionList[e.selectedSessionFilter]||"All Data"]?i("td",[e._v(e._s(e.stats[0].data[e.sessionList[e.selectedSessionFilter]||"All Data"].distribution[t]))]):e._e()}))],2):e._e(),i("tr",[i("th",{staticClass:"title",attrs:{rowspan:""===e.timePeriodDisplayData[e.timePeriod][1]?"1":"2"}},[e._v("Relative Distribution")]),""!==e.timePeriodDisplayData[e.timePeriod][1]?i("td",{staticClass:"title"},[e._v(e._s(e.timePeriodDisplayData[e.timePeriod][0]))]):e._e(),e._l(10,(function(t){return e.stats[e.stats.length-1].data[e.sessionList[e.selectedSessionFilter]||"All Data"]?i("td",[e._v(e._s((100*(e.stats[e.stats.length-1].data[e.sessionList[e.selectedSessionFilter]||"All Data"].relative_distribution[t]||0)).toFixed(2))+"%")]):e._e()}))],2),""!==e.timePeriodDisplayData[e.timePeriod][1]?i("tr",[""!==e.timePeriodDisplayData[e.timePeriod][1]?i("td",{staticClass:"title"},[e._v(e._s(e.timePeriodDisplayData[e.timePeriod][1]))]):e._e(),e._l(10,(function(t){return e.stats[0].data[e.sessionList[e.selectedSessionFilter]||"All Data"]?i("td",[e._v(e._s((100*(e.stats[0].data[e.sessionList[e.selectedSessionFilter]||"All Data"].relative_distribution[t]||0)).toFixed(2))+"%")]):e._e()}))],2):e._e()])]),i("table",[i("thead",[i("tr",[""!==e.timePeriodDisplayData[e.timePeriod][1]?i("td"):e._e(),i("th",[e._v("Mean")]),i("th",[e._v("Standard Deviation")]),i("th",[e._v("Variance")]),i("th",[e._v("Comments")])])]),i("tbody",[i("tr",[""!==e.timePeriodDisplayData[e.timePeriod][1]?i("th",{staticClass:"title"},[e._v(e._s(e.timePeriodDisplayData[e.timePeriod][0]))]):e._e(),e.stats[e.stats.length-1].data[e.sessionList[e.selectedSessionFilter]||"All Data"]?i("td",[e._v(e._s((e.stats[e.stats.length-1].data[e.sessionList[e.selectedSessionFilter]||"All Data"].mean||0).toFixed(2)))]):e._e(),e.stats[e.stats.length-1].data[e.sessionList[e.selectedSessionFilter]||"All Data"]?i("td",[e._v(e._s((e.stats[e.stats.length-1].data[e.sessionList[e.selectedSessionFilter]||"All Data"].stdev||0).toFixed(2)))]):e._e(),e.stats[e.stats.length-1].data[e.sessionList[e.selectedSessionFilter]||"All Data"]?i("td",[e._v(e._s((e.stats[e.stats.length-1].data[e.sessionList[e.selectedSessionFilter]||"All Data"].variance||0).toFixed(2)))]):e._e(),e.stats[e.stats.length-1].data[e.sessionList[e.selectedSessionFilter]||"All Data"]?i("td",[e._v(e._s(e.stats[e.stats.length-1].data[e.sessionList[e.selectedSessionFilter]||"All Data"].comments||0))]):e._e()]),""!==e.timePeriodDisplayData[e.timePeriod][1]?i("tr",[i("th",{staticClass:"title"},[e._v(e._s(e.timePeriodDisplayData[e.timePeriod][1]))]),e.stats[0].data[e.sessionList[e.selectedSessionFilter]||"All Data"]?i("td",[e._v(e._s((e.stats[0].data[e.sessionList[e.selectedSessionFilter]||"All Data"].mean||0).toFixed(2)))]):e._e(),e.stats[0].data[e.sessionList[e.selectedSessionFilter]||"All Data"]?i("td",[e._v(e._s((e.stats[0].data[e.sessionList[e.selectedSessionFilter]||"All Data"].stdev||0).toFixed(2)))]):e._e(),e.stats[0].data[e.sessionList[e.selectedSessionFilter]||"All Data"]?i("td",[e._v(e._s((e.stats[0].data[e.sessionList[e.selectedSessionFilter]||"All Data"].variance||0).toFixed(2)))]):e._e(),e.stats[0].data[e.sessionList[e.selectedSessionFilter]||"All Data"]?i("td",[e._v(e._s(e.stats[0].data[e.sessionList[e.selectedSessionFilter]||"All Data"].comments||0))]):e._e()]):e._e()])])])]):e._e(),e.results&&e.results.length>0?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&"all"===e.selectedSessionFilter,expression:"!loading && selectedSessionFilter === 'all'"}],staticClass:"chart-container"},[i("div",{staticClass:"chart-title"},[e._v("Percentage of Responses by Site")]),e.results&&e.results.length>0?i("donut-chart",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{"chart-data":e.responsesRelativeChartData,options:e.responseDonutOptions,height:400}}):e._e()],1):e._e(),e.results&&e.results.length>0?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&"all"===e.selectedSessionFilter,expression:"!loading && selectedSessionFilter === 'all'"}],staticClass:"chart-container"},[i("div",{staticClass:"chart-title"},[e._v("Mean Rating by Site")]),e.results&&e.results.length>0?i("donut-chart",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{"chart-data":e.meanLocationRatingChartData,options:e.meanLocationOptions,height:400}}):e._e()],1):e._e(),e.results&&e.results.length>0?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"chart-container"},[i("div",{staticClass:"chart-title"},[e._v("Overall Usage")]),e.results&&e.results.length>0?i("line-chart",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{"chart-data":e.overallLineData,diffType:e.diffType,height:400}}):e._e()],1):e._e()]):e._e()])])},si=[],ni=(i("cb29"),i("a630"),i("c975"),i("d81d"),i("b680"),i("b64b"),i("c1df")),oi=i.n(ni),ri={extends:le["b"],mixins:[le["d"].reactiveProp],props:["chartData","options","diffType"],computed:{unit:function(){return this.diffType}},watch:{chartData:function(e,t){this.renderChart(this.chartData,{responsive:!0,maintainAspectRatio:!1,legend:{labels:{fontSize:16,usePointStyle:!0}},tooltips:{bodyFontSize:14,mode:"index",intersect:!0},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{type:"time",scaleLabel:{display:!0,labelString:"Time",fontColor:"#333"},time:{unit:this.unit}}],yAxes:[{scaleLabel:{display:!0,lablabelStringel:"Ratings",fontColor:"#333"}}]}})},unit:function(e,t){e!==t&&this.renderChart(this.chartData,{responsive:!0,maintainAspectRatio:!1,legend:{labels:{fontSize:16,usePointStyle:!0}},tooltips:{bodyFontSize:14,mode:"index",intersect:!0},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{type:"time",scaleLabel:{display:!0,label:"Time"},time:{unit:this.unit}}],yAxes:[{scaleLabel:{display:!0,label:"Ratings"}}]}})}},mounted:function(){this.renderChart(this.chartData,{responsive:!0,maintainAspectRatio:!1,legend:{labels:{fontSize:16,usePointStyle:!0}},tooltips:{bodyFontSize:14,mode:"index",intersect:!0},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{type:"time",scaleLabel:{display:!0,label:"Time"},time:{unit:this.unit}}],yAxes:[{scaleLabel:{display:!0,label:"Ratings"}}]}})}},di=(i("463b"),Object(le["c"])("horizontalBoxplot","horizontalBoxplot")),li={extends:di,mixins:[le["d"].reactiveProp],props:["chartdata","options"],mounted:function(){this.renderChart(this.chartData,this.options||{legend:{display:!1,labels:{fontSize:16}},scales:{xAxes:[{display:!0,ticks:{suggestedMin:1,suggestedMax:10},scaleLabel:{display:!0,labelString:"Rating"}}],yAxes:[{ticks:{maxRotation:90,minRotation:90}}]},responsive:!0,maintainAspectRatio:!1,height:300})}},ci=i("fa33"),ui={name:"admin-sessions",props:["eventId","events"],components:{Loader:Y,DonutChart:ce,LineChart:ri,Datepicker:ci["a"],BoxPlotChart:li},mounted:function(){var e=this;this.getColours(),this.selectedSessionFilter=this.$store.state.selectedSessionFilter,this.selectTimePeriod(this.$store.state.selectedTimePeriod),this.sessionList={},this.events.forEach((function(t){e.sessionList[t.session_id]=t.session_name}))},data:function(){return{loading:!1,results:null,stats:null,timeResults:[[],[]],count:[0,0],commentRate:[0,0],ratings:new Array(10).fill(0),filters:{from:null,to:null},availableFilters:{},donutData:{},donutOptions:{},responseDonutOptions:{},overallLineData:{},fromDate:null,toDate:null,timeDiff:"Daily",diffType:"day",sessionList:{},selectedSessionFilter:"all",chartColours:null,averageRating:[0,0],timePeriod:"today",timePeriodDisplayData:{today:["Today","Yesterday"],thisWeek:["This Week","Last Week"],thisMonth:["This Month","Last Month"],allTime:["All Time",""]},compareData:!0,distributionBoxData:[[],[]],responsesRelativeChartData:{},responsesRelativeData:[[],[]],responsesRelativeLabels:[],meanLocationRatingChartData:[[],[]],meanLocationRatingData:[[],[]],meanLocationOptions:{},returningUserRatio:[0,0],datacollection:{},boxPlotOptions:{},returningUsers:{},returningUsersCompare:{}}},methods:{fillData:function(){this.datacollection={labels:this.timePeriodDisplayData[this.timePeriod],datasets:[{label:"Distribution",backgroundColor:"rgba(65, 146, 161, 0.5)",borderColor:"#4192A1",borderWidth:2,padding:30,data:this.distributionBoxData}]},this.boxPlotOptions={title:{display:!0,text:"RATING DISTRIBUTION",position:"bottom"},legend:{display:!1,labels:{fontSize:16}},scales:{xAxes:[{display:!0,ticks:{suggestedMin:1,suggestedMax:10},scaleLabel:{display:!0,labelString:"Rating"}}],yAxes:[{ticks:{maxRotation:90,minRotation:90}}]},responsive:!0,maintainAspectRatio:!1,height:300}},getRandomValues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Array.from({length:100}).map((function(){return Math.random()*(t-e)+e}))},selectTimePeriod:function(e){switch(e){case"today":this.timePeriod=e,this.compareData=!0,this.filters.from=oi()().subtract(1,"days"),this.filters.to=oi()(),this.getFeedbackForTime(this.filters.from,this.filters.to);break;case"thisWeek":this.timePeriod=e,this.compareData=!0,this.filters.from=oi()().subtract(1,"weeks").add(1,"days").startOf("day"),this.filters.to=oi()(),this.getFeedbackForTime(this.filters.from,this.filters.to);break;case"thisMonth":this.timePeriod=e,this.compareData=!0,this.filters.from=oi()().subtract(1,"month").add(1,"days").startOf("day"),this.filters.to=oi()(),this.getFeedbackForTime(this.filters.from,this.filters.to);break;case"allTime":this.timePeriod=e,this.compareData=!1,this.filters.from=oi()(0),this.filters.to=oi()(),this.getFeedbackForTime(this.filters.from,this.filters.to);break;default:break}},onSessionFilterChange:function(e){this.$store.dispatch("updateAdminFilter",{selectedSessionFilter:this.selectedSessionFilter}),this.getFeedbackForTime(oi()(this.filters.from),oi()(this.filters.to))},getFeedbackForTime:function(e,t){var i=this;this.$store.dispatch("updateAdminFilter",{selectedTimePeriod:this.timePeriod}),this.count=[0,0],this.ratings=[new Array(10).fill(0),new Array(10).fill(0)],this.loading=!0;var a=e||oi()().subtract(1,"days"),s=t||oi()();m.getAdminEventStats(this.eventId,a.format("YYYY-MM-DDTHH:mm:ss.SSS[Z]"),s.format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")).then((function(e){i.results=e.result,i.stats=e.stats,"allTime"===i.timePeriod&&i.results[0].event.length>0?a=oi()(i.results[0].event[0].date_created):"allTime"===i.timePeriod&&(a=oi()().subtract(1,"days")),i.filters.to=oi()(i.results[0].to).format("YYYY/MM/DD HH:mm:ss"),s=oi()(i.results[0].to);var t="day",n=s.diff(a,t);n<=2?(t="hour",i.timeDiff="Hourly",n=s.diff(a,t)):n<=60?(t="day",i.timeDiff="Daily",n=s.diff(a,t)+1):n<=366?(t="week",i.timeDiff="Weekly",n=s.diff(a,t)):(t="year",i.timeDiff="Annual",n=s.diff(a,t)),i.timeResults=[[],[]];for(var o=0;o<=n;o++)i.timeResults[0][o]={label:oi()(s.toDate()).add(-o,t),overall:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},i.timeResults[1][o]={label:oi()(s.toDate()).add(-o,t),overall:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0};i.fromDate=oi()(a.toDate()).format("D/M/YYYY, h:mm a"),i.toDate=oi()(s.toDate()).format("D/M/YYYY, h:mm a"),i.diffType=t,i.returningUsers={},i.returningUsersCompare={},i.results[0]&&0!==i.results[0].event.length&&(i.returningUsers["all"]=[i.results[0].returningUsers[0][0].total_users,i.results[0].returningUsers[1][0].returning_users],Object.keys(i.sessionList).forEach((function(e){i.returningUsers[e]=[0,0]})),i.results[0].returningUsers[2].forEach((function(e){i.returningUsers[e.session_id][0]=e.total_users})),i.results[0].returningUsers[3].forEach((function(e){i.returningUsers[e.session_id][1]=e.returning_users})),i.results[1]&&0!==i.results[1].returningUsers.length&&(i.returningUsersCompare["all"]=[i.results[1].returningUsers[0][0].total_users,i.results[1].returningUsers[1][0].returning_users],Object.keys(i.sessionList).forEach((function(e){i.returningUsersCompare[e]=[0,0]})),i.results[1].returningUsers[2].forEach((function(e){i.returningUsersCompare[e.session_id][0]=e.total_users})),i.results[1].returningUsers[3].forEach((function(e){i.returningUsersCompare[e.session_id][1]=e.returning_users}))),i.loading=!1,i.filterResults(s,t))}))},filterResults:function(e,t){var i=this,a=this.selectedSessionFilter;if(this.averageRating=[0,0],this.commentRate=[0,0],this.distributionBoxData=[[],[]],this.results[0].event.forEach((function(s,n){var o=e.startOf(t).diff(oi()(s.date_created).startOf(t),t);i.timeResults[0];"all"!==a&&s.session_id!=a||(i.timeResults[0][o]||(i.timeResults[0][o]={}),i.timeResults[0][o].overall+=1,i.timeResults[0][o][s.rating]+=1,i.count[0]+=1,i.distributionBoxData[0].push(s.rating))})),this.returningUserRatio[0]=0===this.returningUsers[a][0]?0:Math.round(this.returningUsers[a][1]/this.returningUsers[a][0]*100),this.results[1]&&this.results[1].event.length>0){var s=oi()(this.results[0].from).diff(this.results[1].from,t);this.results[1].event.forEach((function(n,o){var r=oi()(n.date_created).add(s,t).startOf(t),d=e.startOf(t).diff(r,t);"all"!==a&&n.session_id!=a||(i.timeResults[1][d]||(i.timeResults[1][d]={}),i.timeResults[1][d].overall+=1,i.timeResults[1][d][n.rating]+=1,i.count[1]+=1,i.distributionBoxData[1].push(n.rating))})),this.returningUserRatio[1]=0===this.returningUsersCompare[a][0]?0:Math.round(this.returningUsersCompare[a][1]/this.returningUsersCompare[a][0]*100)}var n=this.sessionList[a];if(this.stats.length>0){if(this.stats[this.stats.length-1].data[n||"All Data"]){for(var o in this.stats[this.stats.length-1].data[n||"All Data"].relative_distribution)this.ratings[0][parseInt(o)-1]=(100*this.stats[this.stats.length-1].data[n||"All Data"].relative_distribution[o]).toFixed(2);this.averageRating[0]=this.stats[this.stats.length-1].data[n||"All Data"].mean,this.count[0]=this.stats[this.stats.length-1].data[n||"All Data"].count,this.commentRate[0]=this.stats[this.stats.length-1].data[n||"All Data"].comments/this.count[0]}if(this.stats.length>1&&this.stats[0].data[n||"All Data"]){for(var r in this.stats[0].data[n||"All Data"].relative_distribution)this.ratings[1][parseInt(r)-1]=(100*this.stats[0].data[n||"All Data"].relative_distribution[r]).toFixed(2);this.averageRating[1]=this.stats[0].data[n||"All Data"].mean,this.count[1]=this.stats[0].data[n||"All Data"].count,this.commentRate[1]=this.stats[0].data[n||"All Data"].comments/this.count[1]}}this.fillDonut(),this.$nextTick((function(){i.fillRelativeResponsesBySite(),i.fillRatingLine(),i.fillData()}))},getColours:function(){var e=[4,90,58],t=[122,39,49];this.chartColours=[];for(var i=0;i<10;i++)this.chartColours.push("hsl(".concat(Math.round(e[0]+i*(t[0]-e[0])/10),", ").concat(Math.round(e[1]-i*(e[1]-t[1])/10),"%, ").concat(Math.round(e[2]+i*(t[2]-e[2])/10),"%)"))},fillRelativeResponsesBySite:function(){if("all"===this.selectedSessionFilter){if(this.stats.length>0){this.responsesRelativeLabels=[];for(var e=0,t=Object.keys(this.sessionList);e<t.length;e++){var i=t[e];this.responsesRelativeLabels.push(this.sessionList[i])}for(var a=0,s=Object.keys(this.stats[this.stats.length-1].data);a<s.length;a++){var n=s[a];"All Data"!==n&&(this.responsesRelativeData[0][this.responsesRelativeLabels.indexOf(n)]=(this.stats[this.stats.length-1].data[n].count/this.count[0]*100).toFixed(2),this.meanLocationRatingData[0][this.responsesRelativeLabels.indexOf(n)]=this.stats[this.stats.length-1].data[n].mean.toFixed(2))}if(this.stats.length>1)for(var o=0,r=Object.keys(this.stats[0].data);o<r.length;o++){var d=r[o];"All Data"!==d&&(this.responsesRelativeData[1][this.responsesRelativeLabels.indexOf(d)]=(this.stats[0].data[d].count/this.count[1]*100).toFixed(2),this.meanLocationRatingData[1][this.responsesRelativeLabels.indexOf(d)]=this.stats[0].data[d].mean.toFixed(2))}}this.responsesRelativeChartData={labels:this.responsesRelativeLabels,type:"bar",datasets:[{label:this.timePeriodDisplayData[this.timePeriod][1],data:this.responsesRelativeData[1],backgroundColor:"#ccc"},{label:this.timePeriodDisplayData[this.timePeriod][0],data:this.responsesRelativeData[0],backgroundColor:"#5ab847"}]},this.responseDonutOptions={legend:{display:!0,labels:{fontSize:16}},tooltips:{callbacks:{label:function(e){return" ".concat(e.yLabel," %")}}},scales:{yAxes:[{display:!0,ticks:{callback:function(e,t,i){return e+"%"},beginAtZero:!0},scaleLabel:{display:!0,labelString:"Responses"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Site"}}]},responsive:!0,maintainAspectRatio:!1,height:400},this.meanLocationRatingChartData={labels:this.responsesRelativeLabels,type:"bar",datasets:[{label:this.timePeriodDisplayData[this.timePeriod][1],data:this.meanLocationRatingData[1],backgroundColor:"#ccc"},{label:this.timePeriodDisplayData[this.timePeriod][0],data:this.meanLocationRatingData[0],backgroundColor:"#00a9ce"}]},this.meanLocationOptions={legend:{display:!0,labels:{fontSize:16}},tooltips:{callbacks:{label:function(e){return" ".concat(e.yLabel)}}},scales:{yAxes:[{display:!0,ticks:{suggestedMin:1,suggestedMax:10},scaleLabel:{display:!0,labelString:"Rating"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Site"}}]},responsive:!0,maintainAspectRatio:!1,height:400}}},fillDonut:function(){this.donutData={labels:[1,2,3,4,5,6,7,8,9,10],type:"bar",datasets:[{label:this.timePeriodDisplayData[this.timePeriod][1],data:this.ratings[1],backgroundColor:"#ccc"},{label:this.timePeriodDisplayData[this.timePeriod][0],data:this.ratings[0],backgroundColor:this.chartColours||"#00a9ce"}]},this.donutOptions={title:{display:!0,text:"RATINGS RELATIVE DISTRIBUTION",position:"bottom"},legend:{display:!0,labels:{fontSize:16}},tooltips:{callbacks:{label:function(e){return" ".concat(e.yLabel," %")}}},scales:{yAxes:[{display:!0,ticks:{callback:function(e,t,i){return e+"%"},beginAtZero:!0},scaleLabel:{display:!0,labelString:"Responses"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Rating"}}]},responsive:!0,maintainAspectRatio:!1,height:400}},fillRatingLine:function(){var e=this,t=[[],[]];this.timeResults[0].forEach((function(i,a){t[0].push({x:i.label.startOf(e.diffType),y:i.overall})})),this.timeResults[1].forEach((function(i,a){t[1].push({x:i.label.startOf(e.diffType),y:i.overall})})),this.overallLineData={type:"line",datasets:[{label:this.timePeriodDisplayData[this.timePeriod][0],fill:!1,data:t[0],lineTension:.2,backgroundColor:"#4192A1",borderColor:"#4192A1"},{label:this.timePeriodDisplayData[this.timePeriod][1],fill:!1,data:t[1],lineTension:.2,backgroundColor:"#ccc",borderColor:"#ccc"}]}}}},hi=ui,vi=(i("b992"),Object(w["a"])(hi,ai,si,!1,null,"cb425e6e",null)),mi=vi.exports,pi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{attrs:{id:"event-info"}},[i("h3",{attrs:{id:"name"}},[e._v(e._s(e.events[0].event_name))]),i("div",{attrs:{id:"question"},domProps:{innerHTML:e._s(e.events[0].followup_label)}}),i("span",{staticClass:"date-created"},[e._v(e._s(e._f("moment")(e.events[0].event_date_created,"M/D/YYYY, hh:mma")))])]),e.results?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticStyle:{"margin-top":"1.6rem"},attrs:{id:"filters"}},[i("div",{staticClass:"filter-row",attrs:{id:"session-filter"}},[i("div",{staticClass:"filter"},[i("label",[e._v("Show data for")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedSessionFilter,expression:"selectedSessionFilter"}],attrs:{id:"session-filter",name:"session"},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedSessionFilter=t.target.multiple?i:i[0]},function(t){return e.onSessionFilterChange(t)}]}},[i("option",{attrs:{value:"all"}},[e._v("All Sessions")]),e._l(e.sessionList,(function(t,a){return i("option",{domProps:{value:a}},[e._v(e._s(t))])}))],2)])]),i("div",{staticClass:"filter-row",attrs:{id:"time-period-filter"}},[i("div",{staticClass:"filter"},[i("button",{staticClass:"time-period",class:{selected:"today"==e.timePeriod},on:{click:function(t){return e.selectTimePeriod("today")}}},[e._v("Today")])]),i("div",{staticClass:"filter"},[i("button",{staticClass:"time-period",class:{selected:"thisWeek"==e.timePeriod},on:{click:function(t){return e.selectTimePeriod("thisWeek")}}},[e._v("This Week")])]),i("div",{staticClass:"filter"},[i("button",{staticClass:"time-period",class:{selected:"thisMonth"==e.timePeriod},on:{click:function(t){return e.selectTimePeriod("thisMonth")}}},[e._v("This Month")])]),i("div",{staticClass:"filter"},[i("button",{staticClass:"time-period",class:{selected:"allTime"==e.timePeriod},on:{click:function(t){return e.selectTimePeriod("allTime")}}},[e._v("All Time")])])])]):e._e(),e.results?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticStyle:{"margin-top":"1.6rem","justify-content":"center",padding:"5px 20px"},attrs:{id:"filters"}},[i("div",{staticClass:"filter-row",attrs:{id:"feedback-type-filter"}},[i("div",{staticClass:"filter"},[i("label",[e._v("Show ")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedTypeFilter,expression:"selectedTypeFilter"}],attrs:{id:"session-filter",name:"session"},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedTypeFilter=t.target.multiple?i:i[0]},function(t){return e.onSessionFilterChange(t)}]}},[i("option",{attrs:{value:"all"}},[e._v("All")]),i("option",{attrs:{value:"1"}},[e._v("Public")]),i("option",{attrs:{value:"0"}},[e._v("Private")])]),i("label",[e._v(" comments")])])]),i("div",{staticClass:"filter-row",attrs:{id:"rating-filter"}},[i("div",{staticClass:"filter"},[i("label",[e._v("with a rating of ")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedRatingFilter,expression:"selectedRatingFilter"}],attrs:{id:"session-filter",name:"session"},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedRatingFilter=t.target.multiple?i:i[0]},function(t){return e.onSessionFilterChange(t)}]}},[i("option",{attrs:{value:"all"}},[e._v("Any")]),e._l(10,(function(t){return i("option",{domProps:{value:t}},[e._v(e._s(t))])}))],2)])])]):e._e(),i("div",{staticStyle:{"margin-top":"1.6rem"},attrs:{id:"session"}},[i("h4",[e._v("Media Feedback")]),e.loading?i("div",[i("Loader",{attrs:{loading:e.loading}})],1):e._e(),e.results&&e.results[e.sessionList[e.selectedSessionFilter]||"All Data"].length>0?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"date-created"},[e._v("Showing "+e._s(e.count)+" results for the time range between "+e._s(e.fromDate)+" and "+e._s(e.toDate))]):e._e(),e.results&&e.results[e.sessionList[e.selectedSessionFilter]||"All Data"].length>0&&0!=this.count?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"date-created"},[e._v(e._s((e.publicCount/e.count*100).toFixed(2))+"% of these results are marked as Public")]):e._e(),e._l(e.mediaResults,(function(t){return e.results&&e.results[e.sessionList[e.selectedSessionFilter]||"All Data"].length>0&&!e.loading?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{id:"feedback"}},[i("div",{attrs:{id:"feedback-data"}},[i("div",{attrs:{id:"date"}},[i("span",{staticClass:"date-created"},[e._v(e._s(e._f("moment")(t.Date_Created,"M/D/YYYY, hh:mma")))]),i("br"),i("span",{staticClass:"date-created"},[e._v(e._s(e.sessionList[t.SessionId]))]),i("br"),i("span",{staticClass:"date-created"},[e._v("Sentiment Analysis Score: "+e._s((t.Comparative||0).toFixed(4)))])]),i("div",{attrs:{id:"rating"}},[t.Rating?i("div",{staticClass:"ev-rating",style:{"background-color":e.ratingColor},attrs:{alt:t.Rating-1}},[e._v(e._s(t.Rating))]):e._e(),i("div",{staticClass:"ev-rating",style:{"background-color":e.consentColor[t.ConsentType]}},[e._v(e._s(t.ConsentType?"Public":"Private"))])])]),2==t.FeedbackType?i("div",{attrs:{id:"feedback-media"}},[i("audio",{staticClass:"media",attrs:{controls:""}},[i("source",{attrs:{src:t.FileLocation,type:"audio/webm"}})])]):e._e(),3==t.FeedbackType?i("div",{attrs:{id:"feedback-media"}},[i("video",{staticClass:"media",attrs:{controls:""}},[i("source",{attrs:{src:t.FileLocation,type:"video/webm"}})])]):e._e(),4==t.FeedbackType?i("div",{attrs:{id:"feedback-media"}},[i("div",{staticClass:"text-feedback media"},[e._v(e._s(t.Comment))])]):e._e()]):e._e()}))],2)])},fi=[],gi=(i("4de4"),{name:"admin-media",props:["eventId","events"],components:{Loader:Y,Datepicker:ci["a"]},mounted:function(){var e=this;this.selectedSessionFilter=this.$store.state.selectedSessionFilter,this.selectedRatingFilter=this.$store.state.selectedRatingFilter,this.selectedTypeFilter=this.$store.state.selectedTypeFilter,this.selectedTimePeriod=this.$store.state.selectedTimePeriod,this.selectTimePeriod(this.$store.state.selectedTimePeriod),this.sessionList={},this.events.forEach((function(t){e.sessionList[t.session_id]=t.session_name}))},data:function(){return{loading:!1,results:null,mediaResults:[],count:0,ratings:[0,0,0,0],filters:{from:null,to:null},ratingImg:[Ie.a,je.a,Me.a,$e.a],ratingColor:"#8BC34A",consentColor:["#f44336","#4caf50"],availableFilters:{},donutData:{},fromDate:null,toDate:null,timeDiff:"Daily",diffType:"day",to:null,sessionList:{},selectedSessionFilter:"all",selectedRatingFilter:"all",selectedTypeFilter:"all",timePeriod:"today",timePeriodDisplayData:{today:["Today","Yesterday"],thisWeek:["This Week","Last Week"],thisMonth:["This Month","Last Month"],allTime:["All Time",""]},publicCount:0}},methods:{selectTimePeriod:function(e){switch(e){case"today":this.timePeriod=e,this.compareData=!0,this.filters.from=oi()().subtract(1,"days"),this.filters.to=oi()(),this.getFeedbackForTime(this.filters.from,this.filters.to);break;case"thisWeek":this.timePeriod=e,this.compareData=!0,this.filters.from=oi()().subtract(1,"weeks").add(1,"days").startOf("day"),this.filters.to=oi()(),this.getFeedbackForTime(this.filters.from,this.filters.to);break;case"thisMonth":this.timePeriod=e,this.compareData=!0,this.filters.from=oi()().subtract(1,"month").add(1,"days").startOf("day"),this.filters.to=oi()(),this.getFeedbackForTime(this.filters.from,this.filters.to);break;case"allTime":this.timePeriod=e,this.compareData=!1,this.filters.from=oi()(0),this.filters.to=oi()(),this.getFeedbackForTime(this.filters.from,this.filters.to);break;default:break}},onSessionFilterChange:function(e){this.$store.dispatch("updateAdminFilter",{selectedSessionFilter:this.selectedSessionFilter,selectedTypeFilter:this.selectedTypeFilter,selectedRatingFilter:this.selectedRatingFilter}),this.getFeedbackForTime(oi()(this.filters.from),oi()(this.filters.to))},getFeedbackForTime:function(e,t){var i=this;this.$store.dispatch("updateAdminFilter",{selectedTimePeriod:this.timePeriod}),this.count=0,this.ratings=[0,0,0,0],this.loading=!0;var a=e||oi()().subtract(1,"days"),s=t||oi()();m.getAdminEventComments(this.eventId,a.format("YYYY-MM-DDTHH:mm:ss.SSS[Z]"),s.format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")).then((function(e){i.results=e.comments[0],i.mediaResults=[],i.filters.to=oi()(s).format("YYYY/MM/DD HH:mm:ss"),s=oi()(s);var t="day",n=s.diff(a,t);n<=2?(t="hour",i.timeDiff="Hourly",n=s.diff(a,t)):n<=60?(t="day",i.timeDiff="Daily",n=s.diff(a,t)):n<=366?(t="week",i.timeDiff="Weekly",n=s.diff(a,t)):(t="year",i.timeDiff="Annual",n=s.diff(a,t)),i.timeResults=[];for(var o=0;o<=n;o++)i.timeResults[o]={label:oi()(s.toDate()).add(-o,t),overall:0,1:0,2:0,3:0,4:0};i.fromDate=oi()(a.toDate()).format("D/M/YYYY, h:mm a"),i.toDate=oi()(s.toDate()).format("D/M/YYYY, h:mm a"),i.diffType=t,i.to=s,i.loading=!1,i.results&&i.filterResults(s,t)}))},calculateMediaDuration:function(e){return new Promise((function(t,i){e.onloadedmetadata=function(){e.currentTime=Number.MAX_SAFE_INTEGER,e.ontimeupdate=function(){e.ontimeupdate=function(){},e.currentTime=.1,e.currentTime=0,t(e.duration)}}}))},filterResults:function(e,t){var i=this,a=this.selectedSessionFilter;this.publicCount=0,this.mediaResults=this.results[this.sessionList[a]||"All Data"].filter((function(e){if(("all"===a||e.SessionId==a)&&("all"===i.selectedTypeFilter||e.ConsentType==parseInt(i.selectedTypeFilter))&&("all"===i.selectedRatingFilter||e.Rating==parseInt(i.selectedRatingFilter))){1==e.ConsentType&&i.publicCount++;var t=4===e.FeedbackType||e.FileLocation;return t}})),this.count=this.mediaResults.length,this.mediaResults=this.mediaResults.reverse(),this.$nextTick((function(){var e=document.querySelectorAll(".media");for(var t in e)e[t]&&i.calculateMediaDuration(e[t]).then((function(){}))}))}}}),bi=gi,yi=(i("526f"),Object(w["a"])(bi,pi,fi,!1,null,"9d028b0c",null)),wi=yi.exports,_i={name:"eventDetails",props:["eventId"],components:{PlainTemplate:we,Loader:Y,AdminSessions:ii,AdminCharts:mi,AdminMedia:wi},data:function(){return{events:null,loading:!1,selectedTab:1}},methods:{selectTab:function(e){this.selectedTab=e}},mounted:function(){var e=this;this.loading=!0,m.getAdminEventDetails(this.eventId).then((function(t){e.loading=!1,t&&0!==t.length?e.events=t:e.error=!0})),document.addEventListener("deviceready",Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.ready=!0;case 1:case"end":return t.stop()}}),t)}))),!1)}},ki=_i,Si=(i("389c"),Object(w["a"])(ki,Gt,Qt,!1,null,"17d58b88",null)),xi=Si.exports,Ci=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("PlainTemplate",{attrs:{title:"Survey Details",back:"true"},scopedSlots:e._u([{key:"content",fn:function(){return[i("div",{attrs:{id:"settings"}},[e.loading?i("div",{attrs:{id:"event"}},[i("Loader",{attrs:{loading:e.loading}})],1):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{id:"event-settings"}},[i("div",{staticClass:"heading"},[i("h3",[e._v("Add Survey")]),i("div",{attrs:{id:"edit-event"}},[i("div",{attrs:{id:"save"},on:{click:e.saveEvent}},[e._v("Save")]),i("div",{attrs:{id:"discard"},on:{click:e.discardEdits}},[e._v("Discard")])])]),i("div",{staticClass:"section",attrs:{id:"general-settings"}},[i("div",{staticClass:"row"},[i("label",[e._v("Survey Name")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.name,expression:"editedEvent.name"}],staticClass:"event-input",attrs:{type:"text",placeholder:"Survey Name",name:"name"},domProps:{value:e.editedEvent.name},on:{input:function(t){t.target.composing||e.$set(e.editedEvent,"name",t.target.value)}}})]),i("div",{staticClass:"row"},[i("label",[e._v("Survey Status")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.status,expression:"editedEvent.status"}],staticClass:"event-input",attrs:{placeholder:"Survey Status",name:"status"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.editedEvent,"status",t.target.multiple?i:i[0])}}},e._l(e.status,(function(t,a){return i("option",{domProps:{value:a}},[e._v(e._s(t))])})),0)]),i("div",{staticClass:"row",staticStyle:{"padding-bottom":"50px"}},[i("label",[e._v("Survey Description")]),i("div",{staticClass:"quill"},[i("quill-editor",{ref:"descriptionQuillEditor",staticStyle:{height:"200px"},attrs:{options:Object.assign({},e.editorOptions,{placeholder:"Survey description"})},model:{value:e.editedEvent.description,callback:function(t){e.$set(e.editedEvent,"description",t)},expression:"editedEvent.description"}})],1)]),i("div",{staticClass:"section",attrs:{id:"feedback-settings"}},[i("h4",[e._v("Feedback")]),i("div",{staticClass:"row"},[i("label",[e._v("Main Question")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.question,expression:"editedEvent.question"}],staticClass:"event-input",attrs:{type:"text",placeholder:"Main Question",name:"main-question"},domProps:{value:e.editedEvent.question},on:{input:function(t){t.target.composing||e.$set(e.editedEvent,"question",t.target.value)}}})]),i("div",{staticClass:"row"},[i("label",[e._v("How often can a user give feedback?")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.cooldownPeriod,expression:"editedEvent.cooldownPeriod"}],staticClass:"event-input",attrs:{placeholder:"Cooldown",name:"cooldown"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.editedEvent,"cooldownPeriod",t.target.multiple?i:i[0])}}},e._l(e.cooldownVals,(function(t,a){return i("option",{domProps:{value:a}},[e._v(e._s(t))])})),0)])]),i("div",{staticClass:"section",staticStyle:{"padding-bottom":"50px"},attrs:{id:"media-settings"}},[i("h4",[e._v("Follow Up Feedback")]),i("div",{staticClass:"row"},[i("label",[e._v("Follow Up Feedback")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.extraFields.video,expression:"editedEvent.extraFields.video"}],staticClass:"event-input",attrs:{type:"checkbox",placeholder:"Follow-up",name:"followup-video"},domProps:{checked:Array.isArray(e.editedEvent.extraFields.video)?e._i(e.editedEvent.extraFields.video,null)>-1:e.editedEvent.extraFields.video},on:{change:function(t){var i=e.editedEvent.extraFields.video,a=t.target,s=!!a.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);a.checked?o<0&&e.$set(e.editedEvent.extraFields,"video",i.concat([n])):o>-1&&e.$set(e.editedEvent.extraFields,"video",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.editedEvent.extraFields,"video",s)}}}),i("label",{staticClass:"label-for",attrs:{for:"followup-video"}},[e._v("Video")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.extraFields.audio,expression:"editedEvent.extraFields.audio"}],staticClass:"event-input",attrs:{type:"checkbox",placeholder:"Follow-up",name:"followup-audio"},domProps:{checked:Array.isArray(e.editedEvent.extraFields.audio)?e._i(e.editedEvent.extraFields.audio,null)>-1:e.editedEvent.extraFields.audio},on:{change:function(t){var i=e.editedEvent.extraFields.audio,a=t.target,s=!!a.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);a.checked?o<0&&e.$set(e.editedEvent.extraFields,"audio",i.concat([n])):o>-1&&e.$set(e.editedEvent.extraFields,"audio",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.editedEvent.extraFields,"audio",s)}}}),i("label",{staticClass:"label-for",attrs:{for:"followup-audio"}},[e._v("Audio")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.extraFields.text,expression:"editedEvent.extraFields.text"}],staticClass:"event-input",attrs:{type:"checkbox",placeholder:"Follow-up",name:"followup-text"},domProps:{checked:Array.isArray(e.editedEvent.extraFields.text)?e._i(e.editedEvent.extraFields.text,null)>-1:e.editedEvent.extraFields.text},on:{change:function(t){var i=e.editedEvent.extraFields.text,a=t.target,s=!!a.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);a.checked?o<0&&e.$set(e.editedEvent.extraFields,"text",i.concat([n])):o>-1&&e.$set(e.editedEvent.extraFields,"text",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.editedEvent.extraFields,"text",s)}}}),i("label",{staticClass:"label-for",attrs:{for:"followup-text"}},[e._v("Text")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.editedEvent.extraFields.video||e.editedEvent.extraFields.audio||e.editedEvent.extraFields.text,expression:"editedEvent.extraFields.video || editedEvent.extraFields.audio || editedEvent.extraFields.text"}],staticClass:"row"},[i("label",[e._v("Follow Up Feedback Question")]),i("div",{staticClass:"quill"},[i("quill-editor",{ref:"followUpQuillEditor",staticStyle:{height:"200px"},attrs:{placeholder:"Follow-up Question",name:"description",disabled:!(e.editedEvent.extraFields.video||e.editedEvent.extraFields.audio||e.editedEvent.extraFields.text),options:Object.assign({},e.editorOptions,{placeholder:"Follow-up Question"})},model:{value:e.editedEvent.followupLabel,callback:function(t){e.$set(e.editedEvent,"followupLabel",t)},expression:"editedEvent.followupLabel"}})],1)])]),i("div",{staticClass:"section",attrs:{id:"thankyou-settings"}},[i("h4",[e._v("Thank You Page")]),i("div",{staticClass:"row"},[i("label",[e._v("Display Results")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.showResults,expression:"editedEvent.showResults"}],staticClass:"event-input",attrs:{type:"checkbox",placeholder:"Show Results",name:"show-results"},domProps:{checked:Array.isArray(e.editedEvent.showResults)?e._i(e.editedEvent.showResults,null)>-1:e.editedEvent.showResults},on:{change:function(t){var i=e.editedEvent.showResults,a=t.target,s=!!a.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);a.checked?o<0&&e.$set(e.editedEvent,"showResults",i.concat([n])):o>-1&&e.$set(e.editedEvent,"showResults",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.editedEvent,"showResults",s)}}}),i("label",{staticClass:"label-for",attrs:{for:"show-results"}},[e._v("Enabled")])]),i("div",{staticClass:"row"},[i("label",[e._v("Thank You Message")]),i("div",{staticClass:"quill"},[i("quill-editor",{ref:"myQuillEditor",attrs:{options:Object.assign({},e.editorOptions,{placeholder:"Thank you message"})},model:{value:e.editedEvent.thanksText,callback:function(t){e.$set(e.editedEvent,"thanksText",t)},expression:"editedEvent.thanksText"}})],1)])]),i("div",{staticClass:"section",attrs:{id:"add-session"}},[i("h4",[e._v("First Session")]),i("div",{staticClass:"row"},[i("label",[e._v("Session Name")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedSession.name,expression:"editedSession.name"}],staticClass:"event-input",attrs:{type:"text",placeholder:"Session Name",name:"name"},domProps:{value:e.editedSession.name},on:{input:function(t){t.target.composing||e.$set(e.editedSession,"name",t.target.value)}}})]),i("div",{staticClass:"row"},[i("label",[e._v("Session Status")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.editedSession.status,expression:"editedSession.status"}],staticClass:"event-input",attrs:{placeholder:"Session Status",name:"status"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.editedSession,"status",t.target.multiple?i:i[0])}}},e._l(e.status,(function(t,a){return i("option",{domProps:{value:a}},[e._v(e._s(t))])})),0)]),i("div",{staticClass:"row"},[i("label",[e._v("Session Privacy")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedSession.privacy,expression:"editedSession.privacy"}],staticClass:"event-input",attrs:{type:"checkbox",placeholder:"Session Privacy",name:"privacy"},domProps:{checked:Array.isArray(e.editedSession.privacy)?e._i(e.editedSession.privacy,null)>-1:e.editedSession.privacy},on:{change:function(t){var i=e.editedSession.privacy,a=t.target,s=!!a.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);a.checked?o<0&&e.$set(e.editedSession,"privacy",i.concat([n])):o>-1&&e.$set(e.editedSession,"privacy",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.editedSession,"privacy",s)}}}),i("label",{staticClass:"label-for",attrs:{for:"show-results"}},[e._v("Make Public")])]),i("div",{staticClass:"row"},[i("label",[e._v("Location"),i("span",{staticClass:"optional"},[e._v("(optional)")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedSession.metadata.location,expression:"editedSession.metadata.location"}],staticClass:"event-input",attrs:{type:"text",placeholder:"Location",name:"location"},domProps:{value:e.editedSession.metadata.location},on:{input:function(t){t.target.composing||e.$set(e.editedSession.metadata,"location",t.target.value)}}})])]),i("div",{attrs:{id:"edit-event"}},[i("div",{attrs:{id:"save"},on:{click:e.saveEvent}},[e._v("Save")]),i("div",{attrs:{id:"discard"},on:{click:e.discardEdits}},[e._v("Discard")])])])])])]},proxy:!0}])})},Fi=[],Ei=(i("8096"),{name:"admin-add-event",components:{Loader:Y,quillEditor:Xt["quillEditor"],PlainTemplate:we},mounted:function(){this.event={},this.initEvent(),this.initSession(),this.event.followUpLabel&&""!==this.event.followUpLabel||(this.event.followUpLabel=this.event.question)},data:function(){return{editing:!1,status:["Finished","Ongoing","Under Analysis"],cooldownVals:["As many time as they want","Hourly","Daily","Weekly","Monthly","Only once"],editedEvent:{},event:{},loading:!1,editedSession:{sessionId:null,new:!0,name:null,status:1,privacy:!1,metadata:{}},editorOptions:{theme:"snow",modules:{toolbar:[[{size:["small",!1,"large"]}],["bold","italic"],["link"],["clean"],["image"],[{list:"ordered"},{list:"bullet"}]]}}}},methods:{initSession:function(){this.editedSession={sessionId:null,eventId:null,new:!0,name:null,status:1,privacy:!1,metadata:{}}},initEvent:function(){this.editedEvent={eventId:null,name:null,question:null,followUpEnabled:!0,followUpLabel:null,extraFields:{video:!0,audio:!0,text:!0},expiryDate:null,showFeedback:!1,showResults:!0,status:1,cooldownPeriod:2,description:null,thanksText:null}},saveEvent:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.editing=!1,e.loading=!0,e.editedEvent.extraFields.video||e.editedEvent.extraFields.audio||e.editedEvent.extraFields.text?e.editedEvent.followupEnabled=!0:e.editedEvent.followupEnabled=!1,i={event:e.editedEvent,session:e.editedSession},t.next=6,m.createEvent(i);case 6:a=t.sent,e.loading=!1,a.insertId&&e.$router.push({name:"admin-event-details",params:{eventId:a.insertId}});case 9:case"end":return t.stop()}}),t)})))()},discardEdits:function(){this.initEvent(),this.initSession(),this.$router.push({name:"admin-events"})}}}),Ti=Ei,Ri=(i("9672"),Object(w["a"])(Ti,Ci,Fi,!1,null,"7e96aa5c",null)),Ai=Ri.exports,Di=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"public-charts"}},[i("Header",{attrs:{noback:"true",nolinks:"true"}}),e.loading?i("div",[i("Loader",{attrs:{loading:e.loading}})],1):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[e.session?i("div",{attrs:{id:"event-info"}},[i("h1",{attrs:{id:"name"}},[e._v(e._s(e.session[0].event_name))]),i("div",{attrs:{id:"question"}},[e._v(e._s(e.session[0].question))])]):e._e(),i("div",{attrs:{id:"session"}},[i("div",{attrs:{id:"description"}},[e.results&&e.results.length>0?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"description"},[e._v("Showing data from "+e._s(e.fromDate)+" to "+e._s(e.toDate))]):e._e(),e.results&&e.results.length>0?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"description"},[e._v("Number of participants: "+e._s(e.pastCount))]):e._e()]),i("transition",{attrs:{name:"slide"}},[e.results&&e.results.length>0&&e.showDonut?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{id:"chart-container"}},[i("div",{attrs:{id:"chart-title"}},[e._v("Overall Ratings")]),i("div",{attrs:{id:"donut"}},[e.results&&e.results.length>0?i("donut-chart",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{"chart-data":e.donutData}}):e._e()],1)]):e._e()]),e.results&&e.results.length>0?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&e.toDate,expression:"!loading && toDate"}],staticClass:"description"},[e._v("Data updated on "+e._s(e.toDate))]):e._e()],1)])],1)},Pi=[],Ui={name:"public-display",props:["sessionId"],components:{Loader:Y,DonutChart:ce,LineChart:ri,Datepicker:ci["a"],Header:R},mounted:function(){var e=this;this.getFeedbackForTime(!0),this.feedbackTimer=setInterval((function(){e.getFeedbackForTime(!1)}),1e4)},data:function(){return{loading:!1,feedbackTimer:null,session:null,results:null,feedback:null,timeResults:[],showDonut:!0,sliderTimer:null,count:0,pastCount:0,ratings:[0,0,0,0,0,0,0,0,0,0],fromDate:null,toDate:null,donutData:{},ratingLineData:{},overallLineData:{},timeDiff:"Daily",diffType:"day"}},methods:{getFeedbackForTime:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var i,a,s,n,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.count=0,this.ratings=[0,0,0,0,0,0,0,0,0,0],this.loading=t,e.next=5,m.getSessionEvent(this.sessionId);case 5:return this.session=e.sent,e.next=8,m.getPublicFeedback(this.sessionId);case 8:if(i=e.sent,this.feedback=i,i&&i.data&&0!==i.data.length){e.next=12;break}return e.abrupt("return");case 12:for(this.results=i.data,a=oi.a.utc(i.date),s=oi()(i.data[0].date_created),n="day",o=a.diff(s,n),o<=2?(n="hour",this.timeDiff="Hourly",o=a.diff(s,n)):o<=60?(n="day",this.timeDiff="Daily",a=oi()(i.date).endOf("day"),o=a.diff(s,n)):o<=366?(n="week",this.timeDiff="Weekly",a=oi()(i.date).endOf("day"),o=a.diff(s,n)):(n="year",this.timeDiff="Annual",a=oi()(i.date).endOf("day"),o=a.diff(s,n)),this.timeResults=[],r=0;r<=o;r++)this.timeResults[r]={label:oi()(a.toDate()).add(-r,n),overall:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0};if(this.fromDate=oi()(s.toDate()).format("D/M/YYYY, h:mm a"),this.toDate=oi.a.utc(i.date).local().format("D/M/YYYY, h:mm a"),this.diffType=n,this.loading=!1,this.results&&0!==this.results.length){e.next=26;break}return e.abrupt("return");case 26:this.filterResults(a,n);case 27:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),filterResults:function(e,t){var i=this;this.results.forEach((function(a,s){var n=e.diff(oi()(a.date_created),t);i.timeResults[n].overall+=1,i.timeResults[n][a.rating]+=1,i.count+=1,a.rating<=10&&(i.ratings[a.rating-1]+=1)})),this.pastCount=this.count,this.fillDonut(),this.fillRatingLine()},fillDonut:function(){this.donutData={labels:[1,2,3,4,5,6,7,8,9,10],type:"doughnut",datasets:[{data:this.ratings,backgroundColor:"#8BC34A"}]}},fillRatingLine:function(){var e=[[],[],[],[],[]];this.timeResults.forEach((function(t,i){e[0].push({x:t.label,y:t.overall}),e[1].push({x:t.label,y:t[1]}),e[2].push({x:t.label,y:t[2]}),e[3].push({x:t.label,y:t[3]}),e[4].push({x:t.label,y:t[4]})})),this.overallLineData={type:"line",datasets:[{label:"Overall Usage",fill:!1,data:e[0],lineTension:.2,backgroundColor:"#4192A1",borderColor:"#4192A1"}]},this.ratingLineData={type:"line",datasets:[{label:"🙁",fill:!1,data:e[1],lineTension:.2,backgroundColor:"#f44336",borderColor:"#f44336",pointStyle:"circle",pointRadius:5},{label:"😐",fill:!1,data:e[2],lineTension:.2,backgroundColor:"#FFC107",borderColor:"#FFC107",pointStyle:"rect",pointRadius:6},{label:"🙂",fill:!1,data:e[3],lineTension:.2,backgroundColor:"#8BC34A",borderColor:"#8BC34A",pointStyle:"rectRot",pointRadius:5},{label:"😀",fill:!1,data:e[4],lineTension:.2,backgroundColor:"#4caf50",borderColor:"#4caf50",pointStyle:"triangle",pointRadius:5}]}}}},Ii=Ui,Li=(i("6d86"),Object(w["a"])(Ii,Di,Pi,!1,null,"619b6646",null)),ji=Li.exports,Oi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("PlainTemplate",{attrs:{title:"Privacy Policy",back:"true"},scopedSlots:e._u([{key:"content",fn:function(){return[i("div",{attrs:{id:"privacy"}},[i("div",{staticClass:"paragraph"},[i("h1",[e._v("Privacy Policy")]),i("h2",[e._v("Key Points")]),i("p",[e._v("Your privacy is important to us and we believe you should always know what data we collect from you and the ways in which we use it. Our aim is to give you meaningful control and empower you to make the best decisions about the information you share with us.")]),i("p",{staticClass:"bold"},[e._v("Here are some key points from the policy, but please read the full document:")]),i("ul",[i("li",[e._v(e._s(e.instance)+" has been developed at Open Lab, Newcastle University as a research project. Any information we collect from you will be stored securely in the EU and may be subject to processing. We often publish findings based on user activity, these publications will never contain information or data that could be used to identify you as an individual.")]),i("li",[e._v("When you use "+e._s(e.instance)+", even if you are just browsing through the content, we receive some personal information about you like your IP address and the type of device you are using. When you sign up you may be asked for additional information such as your email address, name and a public profile which we use to keep your account secure and improve the experience for yourself and other users.")]),i("li",[e._v("If you have any questions about this policy, how we collect or process your personal data or anything else related to our privacy practices, you can contact us at any time.")]),i("li",[e._v(e._s(e.instance)+" may share personal data with businesses outside of the EU in order to provide a better service. "+e._s(e.instance)+" uses"),i("a",{attrs:{href:"https://firebase.google.com/"}},[e._v(" Google Firebase")]),e._v(" for managing accounts and sending notifications.")]),i("li",[e._v(e._s(e.instance)+" complies with GDPR and any external services that are not based in the EU comply with the EU-US Privacy Shield Frameworks as set forth by the U.S. Department of Commerce regarding the collection, use, and retention of personal data from the EU and Switzerland. For more information about the Privacy Shield generally, and to view the certificates online, please visit")]),i("a",{attrs:{href:"https://www.privacyshield.gov"}},[e._v(" https://www.privacyshield.gov")]),e._v(".")])]),i("div",{staticClass:"paragraph"},[i("h2",[e._v("Full Privacy Policy")]),i("p",[e._v("Please read this privacy policy carefully before using the services offered by Open Lab, University of Newcastle Upon Tyne (“Open Lab, Newcastle University”, “Open Lab, University of Newcastle Upon Tyne”, “we”, “us”). We recognise the importance of your privacy. Therefore, we have created this Privacy Policy so that you know how we use and disclose your information when you make it available to us. This Privacy Policy applies solely to information collected at this Site. By using or accessing the Site, you signify your agreement to be bound by our Privacy Policy.")]),i("p",{staticClass:"bold"},[e._v("IF YOU DO NOT AGREE TO THIS PRIVACY POLICY YOU MAY NOT ACCESS OR OTHERWISE USE OUR SITE.")]),i("p",{staticClass:"bold"},[e._v("Personal Information that we collect:")]),i("p",[e._v("We collect some personal information from you when you use our services such as your IP host address. If you register you may be asked to voluntarily provide additional information to us, such as your email address, name and a public profile which we use to keep your account secure and improve the experience for yourself and other users.")]),i("p",{staticClass:"bold"},[e._v("Non-personal or Aggregate Information that we collect:")]),i("p",[e._v("We may collect non-personally identifiable information, such as pages viewed, browser type, duration and frequency of visits or other data, and may aggregate any information collected in a manner which does not identify any individual (“Aggregate Information”). Aggregate Information obtained in connection with the Site may be intermingled with and used by us in conjunction with information obtained through sources other than the Site, including both offline and online sources. Aggregate Information may be shared by us with third parties by allowing them to link to and collect data from the Site. This data will be used for their benefit and for ours, for marketing advertising or other purposes, including analysis of the Site for purposes of improving your experience with the Site and academic publication.")]),i("p",{staticClass:"bold"},[e._v("Clickstream:")]),i("p",[e._v("As you use the Internet, a trail of electronic information is left at each website you visit. This information, which is sometimes referred to as “clickstream data,” can be collected and stored by a website’s server. Clickstream data can tell us the type of computer and browsing software you use and the address of the website from which you linked to the Site. We may collect and use clickstream data as a form of Aggregate Information to anonymously determine how much time visitors spend on each page of our Site, how visitors navigate throughout the Site and how we may tailor our web pages to better meet the needs of visitors. This information will be used to improve our Site and our services. Any collection or use of clickstream data will be anonymous and aggregated, and will not intentionally contain any personal information. We may also use this aggregated data in order to conduct academic research studies. As a result of these academic research studies we may publish the anonymous aggregated data we have outlined.")]),i("p",{staticClass:"bold"},[e._v("Information Usage:")]),i("p",[e._v("We will only use your personal information as described below, unless you have specifically consented to another type of use, either at the time the personal information is collected from you or through some other form of consent from you or notification to you. We may use your personal information as follows: (i) to respond to your inquires or requests; (ii) to send you emails and newsletters from time to time with information about our Site; (iii) to share with our partners, by allowing them to link to and collect your information from the Site; (iv) we may permit our vendors and subcontractors to access your personal information, but they are only permitted to do so in connection with performing services for us; (v) we may disclose personal information as required by law or legal process; (vi) to investigate suspected fraud, harassment or other violations of any law, rule or regulation, or the terms or policies for our services or our sponsors and (vii) we may transfer your personal information in connection with the sale or merger or change of control of the services.")]),i("p",{staticClass:"bold"},[e._v("Cookies:")]),i("p",[e._v("Our Site may pass a “cookie” (a string of information that is sent by a website to reside on your system’s hard drive and/or temporarily in your computer’s memory blocks) or similar items, such as web beacons, gifs, and tags. The purpose of a cookie is to tell the web server that you have returned to a particular page. You may set your browser to decline cookies. If you do so, however, you may not be able to fully experience some features of the Site. Additionally, we may include small graphic images in our email messages and newsletters to you in order to determine whether these messages were opened and whether any links contained in these messages were viewed.")]),i("p",{staticClass:"bold"},[e._v("Security:")]),i("p",[e._v("We will ensure that we put in place and will maintain appropriate technical and organisational measures to safeguard any personal information submitted onto the Site. However, you acknowledge that due to the inherent open nature of the Internet, no transmission via the Internet can be guaranteed to be 100% secure. As a result of this and other factors beyond our control, we cannot guarantee the security of the information that you transmit to or through our Site. Therefore, you assume that risk by using the Site.")]),i("p",{staticClass:"bold"},[e._v("Your Disclosure on the Site and in Social Media:")]),i("p",[e._v("You should be aware that any information that you submit to any portion of the Site that is viewable by the public, such a publicly accessible blog, chat room, social media platform or otherwise online may be viewed and used by others without any restrictions. We are unable to control such uses of your personal information, and by using such services you assume the risk that the personal information provided by you may be viewed and used by third parties for any number of purposes.")]),i("p",{staticClass:"bold"},[e._v("Protection for Children:")]),i("p",[e._v("We do not collect personal information from children under the age of 13 years old. When we become aware that personal information from a child under 13 years old has been collected without such child’s parent or guardian’s consent, we will use all reasonable efforts to delete such information from our database. We encourage parents to monitor the online activities of their children to ensure that no information is collected from a child without parental permission.")]),i("p",{staticClass:"bold"},[e._v("Other Sites and Applications:")]),i("p",[e._v("As a convenience to you, we may provide links to third-party sites from within our Site. We are not responsible for the privacy practices or content of any third parties or third-party sites. We encourage you to review these privacy policies to ensure that you are familiar with their terms.")]),i("p",[e._v("If you use any extra plug-ins or third party applications (“Applications”) in connection with the Site, the provider(s) of these Applications may obtain access to certain personal information about you. We do not and cannot control how the providers of Applications may use any personal information collected in connected with such Applications. Please be sure to review any privacy policies or other terms applicable to your use of these Applications prior to installation.")]),i("p",{staticClass:"bold"},[e._v("Changes to this Privacy Policy:")]),i("p",[e._v("We reserve the right, at our discretion, to change, modify, add, or remove portions from this Privacy Policy at any time. Your continued use of the Site following the posting of any changes to this Privacy Policy means you accept and consent to such changes.")]),i("p",{staticClass:"bold"},[e._v("Opt-Out Process:")]),i("p",[e._v("If you do not want to receive email communications (including email digests) from us in the future, please send an email to us at"),i("a",{attrs:{href:"mailto:openlab-admin@newcastle.ac.uk"}},[e._v(" openlab-admin@newcastle.ac.uk")]),e._v(" requesting to be removed from our mailing list. You will also have the option of clicking on a link included in email correspondence you receive from us in order to remove yourself from our mailing list.")]),i("p",[e._v("If you do not want to want to receive our newsletters in the future, please send an email to us at"),i("a",{attrs:{href:"mailto:openlab-admin@newcastle.ac.uk"}},[e._v(" openlab-admin@newcastle.ac.uk")]),e._v(" requesting to be removed from our mailing list. You will also have the option of clicking on a link included in the newsletters you receive from us in order to remove yourself from our mailing list.")]),i("p",[e._v("We are not, however, responsible for removing your personal information from the lists of any third party who has previously been provided your information in accordance with this Privacy Policy or your consent, such as a sponsor. You should contact such third parties directly if you wish to have your personal information removed from their lists.")]),i("p",{staticClass:"bold"},[e._v("Communications with Us:")]),i("p",[e._v("By providing your email address to us, you expressly consent to receive emails from us. We may use email to communicate with you, to send information that you have requested or to send information about other products or services developed or provided by us or our business partners, provided that, we will not give your email address to another party to promote their products or services directly to you without your consent or as set forth in this policy.")]),i("p",[e._v("Any communication or material you transmit to us by email or otherwise, including any data, questions, comments, suggestions, or the like is, and will be treated as, nonconfidential and nonproprietary. Furthermore, you expressly agree that we are free to use any ideas, concepts, know-how, or techniques contained in any communication you send to us without compensation and for any purpose whatsoever, including but not limited to, developing, manufacturing and marketing products and services using such information.")]),i("p",{staticClass:"bold"},[e._v("Site Terms of Use:")]),i("p",[e._v("Use of this Site is governed by, and subject to, the Terms of Use contained at"),i("a",{attrs:{href:e.instanceBaseUrl+"/#/terms"}},[e._v(" "+e._s(e.instanceBaseUrl)+"/#/terms")]),e._v(". This Privacy Policy is incorporated into such terms. Your use, or access, of the Site constitutes your agreement to be bound by these provisions.")]),i("p",{staticClass:"bold"},[e._v("IF YOU DO NOT AGREE TO THESE TERMS OF USE YOU MAY NOT ACCESS OR OTHERWISE USE THE SITE.")]),i("p",[e._v("Transfers of Personal Data Outside the EEA: The personal data that we collect from you may be transferred to, and stored at, a destination outside the European Economic Area (“EEA”). It may also be processed by staff operating outside the EEA who work for us or for one of our suppliers. By submitting your personal data, you agree to this transfer, storing or processing. We will take all steps reasonably necessary to ensure that your data is treated securely and in accordance with this privacy policy.")]),i("p",{staticClass:"bold"},[e._v("Contact Information:")]),i("p",[e._v("Should you have any questions, contact us:"),i("br"),i("span",{staticClass:"bold"},[e._v("Address:")]),i("br"),e._v("Open Lab"),i("br"),e._v("Floor 1"),i("br"),e._v("Urban Sciences Building"),i("br"),e._v("1 Science Square"),i("br"),e._v("Science Central"),i("br"),e._v("Newcastle Upon Tyne"),i("br"),e._v("NE4 5TG"),i("br"),i("span",{staticClass:"bold"},[e._v("Phone:")]),e._v(" +44 191 20 84642 | 84630"),i("br"),i("span",{staticClass:"bold"},[e._v("Email:"),i("a",{attrs:{href:"mailto:openlab-admin@newcastle.ac.uk"}},[e._v(" openlab-admin@newcastle.ac.uk")])])]),i("p",{staticClass:"bold"},[e._v("Effective Date:")]),i("p",[e._v("May 25, 2018")])])])]},proxy:!0}])})},Mi=[],Ni={name:"Privacy",props:["sessionId"],components:{PlainTemplate:we},data:function(){return{thanksText:null}},computed:Object(C["a"])({},Object(s["b"])(["instance","instanceBaseUrl"])),mounted:function(){var e=this;document.addEventListener("deviceready",Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.ready=!0;case 1:case"end":return t.stop()}}),t)}))),!1)}},$i=Ni,qi=(i("010e0"),Object(w["a"])($i,Oi,Mi,!1,null,"e4173a9a",null)),Yi=qi.exports,Bi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("PlainTemplate",{attrs:{title:"Terms of Use",back:"true"},scopedSlots:e._u([{key:"content",fn:function(){return[i("div",{attrs:{id:"privacy"}},[i("div",{staticClass:"paragraph"},[i("h1",[e._v("Terms of Use")]),i("p",[e._v("Please read these terms of use carefully before using the services offered by Open Lab, University of Newcastle Upon Tyne (“Open Lab, Newcastle University”, “Open Lab, University of Newcastle Upon Tyne”, “we”, “us”). These terms of use set forth the legally binding terms and conditions for your use of the website and/or apps at "),i("a",{attrs:{href:e.instanceBaseUrl}},[e._v(e._s(e.instanceBaseUrl))]),e._v(" (the “Service”) and the services, features, content, applications or widgets offered by Open Lab, Newcastle University (collectively with the Service, the “Service”).")]),i("p",[e._v("Please read these Terms of Use carefully before using the Service. If you do not accept these Terms of Use, then you may not use the Service. These Terms of Use are subject to change by us at any time, effective when posted on the Service. Your continued use after such notice will constitute acceptance by you of such changes.")]),i("p",[e._v("These Terms of Use apply to all users of the Service, including, without limitation, users who are contributors of content, information, and other materials or services on the Service, individual users of the Service, venues that access the Service, and users that have a page on the Service. By using the Service you are agreeing to be bound by these Terms of Use.")]),i("p",{staticClass:"bold"},[e._v("Use of the Service:")]),i("p",[e._v("You may use this Service only subject to these Terms of Use, all applicable laws, rules and regulations and any agreements or terms with third parties to which you are subject. You may not use this Service for commercial purposes, such as to promote a product or service, without our prior written consent. We may impose restrictions on certain features or your access to the Service without notice or liability.")]),i("p",{staticClass:"bold"},[e._v("Prohibited Use:")]),i("p",[e._v("You may not use spiders, robots, data mining techniques or other automated devices or programs to catalog, download or otherwise reproduce, store or distribute content available on the Service. Further, you may not use any such automated means to manipulate the Service or attempt to exceed the limited authorisation and access granted to you under these Terms of Use or disrupt the Service or any other user’s use of the Service, including, without limitation, via means of overloading, “flooding”, “mail-bombing” or “crashing” the Service or circumventing security or user authentication measures. You may not frame portions of the Service within another web site or establish links from any other web site to any page of the Service other than the home page. You may not resell use of, or access to, the Service to any third party.")]),i("p",{staticClass:"bold"},[e._v("Content:")]),i("p",[e._v("Users may be able to post content in certain areas on the Service, such as in connection with chats, pages, activities and in the comments or discussion sections of the Service. You are solely responsible for any content, photos, artwork, videos, text, graphics, articles and other information you upload, post, display or otherwise provide to the Service (“Content”). You represent and warrant that: (i) you own the Content posted by you on the Service or otherwise have the right to grant the license rights granted in these Terms of Use; (ii) your Content does not violate the privacy rights, publicity rights, intellectual property rights, or any other rights of any person; and (iii) the posting of Content on the Service does not result in a breach of any contract between you and a third party.")]),i("p",[e._v("We do not guarantee the accuracy, completeness or usefulness of any Content. Furthermore, we do not endorse, nor are we responsible for, the accuracy and reliability of any opinion, advice or statement made on the Service by any third party. We assume no responsibility and no obligation to modify or remove any inappropriate Content, and no responsibility for the conduct of the user submitting any such content.")]),i("p",[e._v("We reserve the right, in our sole discretion, to reject, refuse to post or remove any Content posted by you. We expressly reserve the right to remove or revoke your registration and/or restrict, suspend, or terminate your access to the Service if we determine, in our sole discretion, that you pose a threat to the Service and/or its users.")]),i("p",[e._v("After posting your Content to the Service, you continue to retain all ownership rights in such Content, and you continue to have the right to use your Content in any way you choose. By supplying Content to any area of the Service, you automatically grant to us for purposes of maintaining the Service, making Content available, and you represent and warrant that you have the right to grant an irrevocable, transferable, sub-licensable, perpetual, non-exclusive, fully paid up, worldwide license to use, copy, perform, reproduce, display, edit, modify and distribute such information and Content and to prepare derivative works of, or incorporate into other works, such Content. Additionally, we shall be free to use any ideas, concepts, know-how or techniques contained in such Content for any purpose whatsoever, including without limitation, developing, manufacturing and marketing products and services which incorporate such Content, including mobile applications that may be created using the Service.")]),i("p",{staticClass:"bold"},[e._v("Online Behaviour:")]),i("p",[e._v("The Service is a space dedicated to helping communities engage in new and creative ways of commissioning mobile applications. You should not post Content to the Service that is inappropriate for or unrelated to this mission. The following is a partial list of the type of Content that is illegal or prohibited to post on or through the Service. Prohibited Content includes, but is not limited to Content that:")]),i("ol",[i("li",[e._v("is patently offensive and promotes racism, bigotry, hatred or physical harm of any kind against any group or individual;")]),i("li",[e._v("harasses or advocates harassment of another person;")]),i("li",[e._v("exploits people in a sexual or violent manner;")]),i("li",[e._v("contains nudity, violence, or offensive subject matter or contains a link to an adult website;")]),i("li",[e._v("solicits personal information from anyone under the age of 21 years;")]),i("li",[e._v("provides any telephone numbers, street addresses, last names, URLs or email addresses;")]),i("li",[e._v("promotes information that you know is false or misleading or promotes illegal activities or conduct that is abusive, threatening, obscene, defamatory or libellous;")]),i("li",[e._v("promotes an illegal or unauthorised copy of another person’s copyrighted work, such as providing pirated computer programs or links to them, providing information to circumvent manufacture-installed copy-protect devices, or providing pirated music or links to pirated music files;")]),i("li",[e._v("involves the transmission of “junk mail,” “chain letters,” or unsolicited mass mailing, instant messaging, “spimming,” or “spamming”;")]),i("li",[e._v("contains restricted or password only access pages or hidden pages or images (those not linked to or from another accessible page);")]),i("li",[e._v("furthers or promotes any criminal activity or enterprise or provides instructional information about illegal activities including, but not limited to, making or buying illegal weapons, violating someone’s privacy, or providing or creating computer viruses;")]),i("li",[e._v("solicits passwords from other users or personal identifying information for commercial or unlawful purposes from other users;")]),i("li",[e._v("involves commercial activities and/or sales without our prior written consent such as contests, sweepstakes, barter, advertising, or pyramid schemes;")]),i("li",[e._v("or includes a photograph or video footage of another person that you have posted without that person’s consent or other third party content including but not limited to music, trademarks, logos, artwork or any other copyrighted, trademarked, or proprietary third party content that you have not secured permission to include on the Site.")]),i("li",[e._v("If you wish to report any Content or conduct on the Service that you believe is inappropriate, please contact us at "),i("a",{attrs:{href:"mailto:openlab-admin@newcastle.ac.uk"}},[e._v("openlab-admin@newcastle.ac.uk")]),e._v(".")])]),i("p",{staticClass:"bold"},[e._v("No Content Monitoring:")]),i("p",[e._v("We are under no obligation to screen or monitor Content, but may review Content from time to time at our sole discretion to review compliance with these Terms of Use. We will make all determinations as to what Content is appropriate in our sole discretion. We may include, edit or remove any Content at any time without notice. We may employ automated monitoring devices or techniques to protect our users from mass unsolicited communications (also known as “spam”) and/or other types of electronic communications that we deem objectionable. Such devices or techniques are not perfect, and we will not be responsible for any legitimate communication that is blocked, or for any unsolicited communication that is not blocked. Mailboxes may have a limited storage capacity. If you exceed the maximum permitted storage space, we may employ automated devices that delete or block email messages that exceed the limit. We will not be responsible for such deleted or blocked messages.")]),i("p",{staticClass:"bold"},[e._v("Termination of Access:")]),i("p",[e._v("In addition to any right or remedy that may be available to us under these Terms of Use or applicable law, we may suspend, limit or terminate all or a portion of your access to the Service, at any time with or without notice and with or without cause. In addition, we may refer any information on illegal activities, including your identity, to the proper authorities.")]),i("p",{staticClass:"bold"},[e._v("Privacy:")]),i("p",[e._v("The privacy of your personally identifiable information is very important to us. For more information on what information we collect and how we use such information, please read our Privacy Policy at")]),i("a",{attrs:{href:e.instanceBaseUrl+"/#/privacy"}},[e._v(" "+e._s(e.instanceBaseUrl)+"/#/privacy")]),i("p",{staticClass:"bold"},[e._v("Links:")]),i("p",[e._v("This Service may contain links to other web sites not maintained by us (including without limitation Facebook, Twitter and other social media platforms). We encourage you to be aware when you leave our Service and to read the terms and conditions and privacy statements of each and every web site that you visit. We are not responsible for the practices or the content of such other web sites or services.")]),i("p",[e._v("The existence of a link between this Service and any other website is not and shall not be understood to be an endorsement by us of the owner or proprietor of the linked internet website, nor an endorsement of us by the owner or proprietor of such linked website.")]),i("p",[e._v("You agree that we shall not be liable to you or anyone else for any type of loss or damages, regardless of whether based on contract, negligence, intentional wrongdoing, or liability without fault for any costs, losses, or damages (whether direct, indirect, compensatory, special, lost profits, liquidated, consequential, or punitive) arising out of or in any way in connection with your access to or use of any such third party site.")]),i("p",{staticClass:"bold"},[e._v("Our Proprietary Rights:")]),i("p",[e._v("We or our licensors are the exclusive owners of all copy, software, graphics, designs and all copyrights, trademarks and other intellectual property or proprietary rights contained on or used in connection with the Service. Except as set forth herein, you agree not to copy, distribute, modify or make derivative works of any materials without the prior written consent of the owner of such materials. All rights not granted under these Terms of Use are reserved by us.")]),i("p",{staticClass:"bold"},[e._v("No Warranties:")]),i("p",[e._v("The Service, including all content made available on or accessed through the Service, is provided “as is” and we make no representations or warranties of any kind whatsoever for the content made available through the Service. The Service may contain typographical errors and you agree that we shall not be bound by any such errors.")]),i("p",[e._v("Further, to the fullest extent permissible by law, we disclaim any express or implied warranties, including, without limitation, non-infringement, title, merchantability or fitness for a particular purpose.")]),i("p",[e._v("We do not warrant that the functions contained in the Service or, materials or content contained therein will be completely secure, uninterrupted or error free, that defects will be corrected, or that the site or the server that makes it available is free of viruses or other harmful components.")]),i("p",[e._v("We shall not be liable for the use of the Service, including, without limitation, the content and any errors contained therein provided by third parties.")]),i("p",[e._v("In no event will we be liable under any theory of tort, contract, strict liability or other legal or equitable theory for any direct, indirect, special, incidental, or other consequential damages, lost profits, lost data, lost opportunities, costs of cover, exemplary, punitive, personal injury/wrongful death, each of which is hereby excluded by agreement of the parties regardless of whether or not we have been advised of the possibility of such damages.")]),i("p",{staticClass:"bold"},[e._v("Indemnity:")]),i("p",[e._v("You agree to defend, indemnify and hold harmless us, our business partners and agents, from and against any and all claims, damages, obligations, losses, liabilities, costs or debt, and expenses (including but not limited to attorney’s fees) arising from any breach by you of any of these Terms of Use.")]),i("p",[e._v("Jurisdiction and Governing Law:")]),i("p",[e._v("English law governs these terms and conditions. You submit to the non-exclusive jurisdiction of the English courts.")]),i("p",{staticClass:"bold"},[e._v("Severability:")]),i("p",[e._v("If any part of these Terms of Use shall be held or declared to be invalid or unenforceable for any reason by any court of competent jurisdiction, such provision shall be ineffective but shall not affect any other part of these Terms of Use.")]),i("p",{staticClass:"bold"},[e._v("Waiver; Remidies:")]),i("p",[e._v("The failure by us to partially or fully exercise any rights or the waiver of any breach of these Terms of Use by you, shall not prevent a subsequent exercise of such right by us or be deemed a waiver by us of any subsequent breach by you of the same or any other term of these Terms of Use. Our rights and remedies under these Terms of Use shall be cumulative, and the exercise of any such right or remedy shall not limit our right to exercise any other right or remedy.")]),i("p",{staticClass:"bold"},[e._v("Notices:")]),i("p",[e._v("Any and all notices to be given by either one of us to the other pursuant to or in connection with these Terms of Use shall be deemed sufficiently given when forwarded by e-mail in each case addressed to you at the e-mail address you have given us or to us at the e-mail address displayed on the Service.")]),i("p",{staticClass:"bold"},[e._v("Contact Information:")]),i("p",[e._v("Should you have any questions, contact us:"),i("br"),i("span",{staticClass:"bold"},[e._v("Address:")]),i("br"),e._v("Open Lab"),i("br"),e._v("Floor 1"),i("br"),e._v("Urban Sciences Building"),i("br"),e._v("1 Science Square"),i("br"),e._v("Science Central"),i("br"),e._v("Newcastle Upon Tyne"),i("br"),e._v("NE4 5TG"),i("br"),i("span",{staticClass:"bold"},[e._v("Phone:")]),e._v(" +44 191 20 84642 | 84630"),i("br"),i("span",{staticClass:"bold"},[e._v("Email:"),i("a",{attrs:{href:"mailto:openlab-admin@newcastle.ac.uk"}},[e._v(" openlab-admin@newcastle.ac.uk")])])]),i("p",{staticClass:"bold"},[e._v("Effective Date:")]),i("p",[e._v("May 25, 2018")])])])]},proxy:!0}])})},Hi=[],Wi={name:"Terms",props:["sessionId"],components:{PlainTemplate:we},data:function(){return{thanksText:null}},mounted:function(){var e=this;document.addEventListener("deviceready",Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.ready=!0;case 1:case"end":return t.stop()}}),t)}))),!1)},computed:Object(C["a"])({},Object(s["b"])(["instance","instanceBaseUrl"]))},zi=Wi,Vi=(i("bdd2"),Object(w["a"])(zi,Bi,Hi,!1,null,"16819094",null)),Gi=Vi.exports,Qi={apiKey:"AIzaSyBfaYXvzPXfrAGeccFiyYeOWHC4vAGrT_I",authDomain:"coronavoice-6f07b.firebaseapp.com",databaseURL:"https://coronavoice-6f07b.firebaseio.com",projectId:"coronavoice-6f07b",storageBucket:"coronavoice-6f07b.appspot.com",messagingSenderId:"907001080654",appId:"1:907001080654:web:ce52478ccfdbb39ccdcc1f"};a["a"].use(I["a"]);var Ji=new I["a"]({base:"/",routes:[{path:"/",name:"login",component:X,props:!0},{path:"/",name:"email-login",component:se,props:!0},{path:"/privacy",name:"privacy",component:Yi},{path:"/terms",name:"terms",component:Gi},{path:"/public-data/:sessionId",name:"public-data",component:ji,props:!0},{path:"/settings",name:"user-settings",component:gt,beforeEnter:Ki,meta:{requiresAuth:!0}},{path:"/thankyou/:sessionId",name:"thankyou",component:xe,props:!0,beforeEnter:Ki,meta:{requiresAuth:!0}},{path:"/event/:sessionId",name:"event",component:Ae,props:!0,beforeEnter:Ki,meta:{requiresAuth:!0}},{path:"/media-feedback/:sessionId/:feedbackId",name:"media-feedback",component:Xe,props:!0,beforeEnter:Ki,meta:{requiresAuth:!0}},{path:"/audio-feedback/:sessionId/:feedbackId",name:"audio-feedback",component:nt,props:!0,beforeEnter:Ki,meta:{requiresAuth:!0}},{path:"/text-feedback/:sessionId/:feedbackId",name:"text-feedback",component:ut,props:!0,beforeEnter:Ki,meta:{requiresAuth:!0}},{path:"/home",name:"home",component:St,beforeEnter:Ki,meta:{requiresAuth:!0}},{path:"/history",name:"feedback-history",component:He,beforeEnter:Ki,meta:{requiresAuth:!0}},{path:"/feedback/:feedbackId",name:"feedback",component:Rt,props:!0,beforeEnter:Ki,meta:{requiresAuth:!0}},{path:"/event-details/:sessionId",name:"event-details",component:Lt,props:!0,beforeEnter:Ki,meta:{requiresAuth:!0}},{path:"/admin",name:"admin",component:qt,beforeEnter:Ki,meta:{requiresAuth:!0,admin:!0},children:[{path:"",name:"admin-events",component:Vt,beforeEnter:Ki,meta:{requiresAuth:!0,admin:!0}},{path:"/admin/event/:eventId",name:"admin-event-details",component:xi,beforeEnter:Ki,props:!0,meta:{requiresAuth:!0,admin:!0}},{path:"/admin/add-event/",name:"admin-add-event",component:Ai,beforeEnter:Ki,props:!0,meta:{requiresAuth:!0,admin:!0}}]}]});function Ki(e,t,i){return Xi.apply(this,arguments)}function Xi(){return Xi=Object(r["a"])(regeneratorRuntime.mark((function e(t,i,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.matched.some((function(e){return e.meta.requiresAuth}))){e.next=11;break}return e.next=3,ea();case 3:if(!e.sent){e.next=8;break}return console.log("authenticated"),t.matched.some((function(e){return e.meta.admin}))&&"admin"!==p.state.currentUser.userRole&&a("/home"),a(),e.abrupt("return");case 8:a({name:"login",params:{to:t}}),e.next=12;break;case 11:a();case 12:case"end":return e.stop()}}),e)}))),Xi.apply(this,arguments)}l.a.initializeApp(Qi);var Zi=new Promise((function(e){l.a.auth().onAuthStateChanged((function(t){t?(p.dispatch("updateUser",t),p.dispatch("updateRole",t.userRole)):p.dispatch("updateUser",null),e(t)}))}));function ea(){return Zi.then((function(e){return e||p.state.currentUser}))}var ta=Ji,ia=i("2ead"),aa=i.n(ia),sa=i("31bd"),na=i("ecee"),oa=i("c074"),ra=i("ad3d"),da=i("6591"),la=i("9483");Object(la["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),Object(sa["sync"])(p,ta),na["c"].add(oa["n"],oa["k"],oa["l"],oa["c"],oa["j"],oa["i"],oa["b"],oa["h"],oa["d"],oa["g"],oa["a"],oa["m"],oa["e"],oa["f"]),a["a"].use(s["a"]),a["a"].use(aa.a),a["a"].use(da["VueHammer"]),a["a"].component("font-awesome-icon",ra["a"]),a["a"].config.productionTip=!1,new a["a"]({el:"#app",router:ta,components:{App:U},template:"<App/>"})},"5bea":function(e,t,i){"use strict";var a=i("618b"),s=i.n(a);s.a},"618b":function(e,t,i){},"62ee":function(e,t,i){"use strict";var a=i("291d"),s=i.n(a);s.a},"638c":function(e,t,i){"use strict";var a=i("af92"),s=i.n(a);s.a},6745:function(e,t,i){"use strict";var a=i("f8af"),s=i.n(a);s.a},"68ce":function(e,t,i){},"6bd0":function(e,t,i){e.exports=i.p+"assets/img/clouds.65af105f.svg"},"6d86":function(e,t,i){"use strict";var a=i("ed4b"),s=i.n(a);s.a},"7ec7":function(e,t,i){},"7faf":function(e,t,i){"use strict";var a=i("fd01"),s=i.n(a);s.a},8363:function(e,t,i){"use strict";var a=i("68ce"),s=i.n(a);s.a},"870d":function(e,t,i){"use strict";var a=i("484f"),s=i.n(a);s.a},8990:function(e,t,i){"use strict";var a=i("aba2"),s=i.n(a);s.a},"8d23":function(e,t,i){},"92a1":function(e,t,i){"use strict";var a=i("a7ee"),s=i.n(a);s.a},9672:function(e,t,i){"use strict";var a=i("d0e9"),s=i.n(a);s.a},"9b0c":function(e,t,i){"use strict";var a=i("37e0"),s=i.n(a);s.a},"9b90":function(e,t,i){"use strict";var a=i("eed9"),s=i.n(a);s.a},a09f:function(e,t,i){"use strict";var a=i("2978"),s=i.n(a);s.a},a6de:function(e,t,i){},a7ee:function(e,t,i){},aba2:function(e,t,i){},af92:function(e,t,i){},b2d8:function(e,t,i){},b33a:function(e,t,i){},b848:function(e,t,i){"use strict";var a=i("c502"),s=i.n(a);s.a},b992:function(e,t,i){"use strict";var a=i("0edc"),s=i.n(a);s.a},bc0e:function(e,t,i){"use strict";var a=i("c6c3"),s=i.n(a);s.a},bc8c:function(e,t,i){e.exports=i.p+"assets/img/iDi_logo_extended_white.63582192.svg"},bdd2:function(e,t,i){"use strict";var a=i("e3ef"),s=i.n(a);s.a},be3f:function(e,t,i){"use strict";var a=i("cf87"),s=i.n(a);s.a},c1d6:function(e,t,i){"use strict";var a=i("b2d8"),s=i.n(a);s.a},c502:function(e,t,i){},c6c3:function(e,t,i){},cf87:function(e,t,i){},d0e9:function(e,t,i){},e01e:function(e,t,i){"use strict";var a=i("0dca"),s=i.n(a);s.a},e048:function(e,t,i){e.exports=i.p+"assets/img/8.27ad06af.svg"},e2a4:function(e,t,i){},e3e5:function(e,t,i){},e3ef:function(e,t,i){},e551:function(e,t,i){"use strict";var a=i("e2a4"),s=i.n(a);s.a},e59c:function(e,t,i){},e721:function(e,t,i){},ec31:function(e,t,i){e.exports=i.p+"assets/img/6.d8216ea4.svg"},ed4b:function(e,t,i){},eed9:function(e,t,i){},f44f:function(e,t,i){},f5db:function(e,t,i){"use strict";var a=i("8d23"),s=i.n(a);s.a},f6b7:function(e,t,i){},f8af:function(e,t,i){},fd01:function(e,t,i){}});
//# sourceMappingURL=app.05d96cd8.js.map